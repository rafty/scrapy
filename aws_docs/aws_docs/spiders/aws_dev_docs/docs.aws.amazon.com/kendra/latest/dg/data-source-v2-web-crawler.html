<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Amazon Kendra Web Crawler connector v2.0 - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="data-source-v2-web-crawler" /><meta name="default_state" content="data-source-v2-web-crawler" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-v2-web-crawler.html" /><meta name="description" content="You can use Amazon Kendra Web Crawler to crawl and index web pages." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon Kendra. Learn about Amazon Kendra features and get started indexing your documents using the console, CLI, and API." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-v2-web-crawler.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/data-source-v2-web-crawler.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Amazon Kendra Web Crawler connector v2.0" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Amazon Kendra Web Crawler connector v2.0 - Amazon Kendra</title><meta name="pdf" content="/pdfs/kendra/latest/dg/kendra-dg.pdf#data-source-v2-web-crawler" /><meta name="rss" content="amazon-kendra-release-notes.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/data-source-v2-web-crawler.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/data-source-v2-web-crawler.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/data-source-v2-web-crawler.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,intelligent search,natural language,index,question,keyword,data source,connector,FAQ,frequently asked question,web crawler" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Creating a data source connector",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/data-source.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Data source connectors",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/data-sources.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Amazon Kendra Web Crawler",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/data-source-web-crawler.html"
      },
      {
        "@type" : "ListItem",
        "position" : 7,
        "name" : "Amazon Kendra Web Crawler connector v2.0",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/data-source-web-crawler.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/kendra/latest/dg/kendra-dg.pdf#data-source-v2-web-crawler" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Developer Guide</a></div><div id="page-toc-src"><a href="#supported-features-v2-web-crawler">Supported features</a><a href="#prerequisites-v2-web-crawler">Prerequisites</a><a href="#data-source-v2-procedure-web-crawler">Connection
                    instructions</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="data-source-v2-web-crawler">Amazon Kendra Web Crawler 
                connector v2.0</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can use Amazon Kendra Web Crawler to crawl and index web pages.</p><p>You can only crawl public facing websites or internal company websites that use the secure 
            communication protocol Hypertext Transfer Protocol Secure (HTTPS). If you 
            receive an error when crawling a website, it could be that the website is blocked from crawling. 
            To crawl internal websites, you can set up a web proxy. The web proxy must be public facing. You 
            can also use authentication to access and crawl websites.</p><p>Amazon Kendra Web Crawler v2.0 uses the Selenium web crawler package and a Chromium driver. 
            Amazon Kendra automatically updates the version of Selenium and the Chromium driver using 
            Continuous Integration (CI).</p><p><em>When selecting websites to index, you must adhere to the <a href="https://aws.amazon.com/aup/" rel="noopener noreferrer" target="_blank"><span>Amazon Acceptable Use Policy</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and all other
            Amazon terms. Remember that you must only use Amazon Kendra Web Crawler to index
            your own web pages, or web pages that you have authorization to index. To learn how to
            stop Amazon Kendra Web Crawler from indexing your website(s), please see <a href="./stop-web-crawler.html">Configuring the robots.txt file for
                Amazon Kendra Web Crawler</a>.</em></p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Abusing Amazon Kendra Web Crawler to aggressively crawl websites or web pages you 
                don't own is <b>not</b> considered acceptable use.</p></div></div><p>For troubleshooting your Amazon Kendra web crawler data source connector, see <a href="./troubleshooting-data-sources.html">Troubleshooting data sources</a>.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#supported-features-v2-web-crawler">Supported features</a></li><li><a href="#prerequisites-v2-web-crawler">Prerequisites</a></li><li><a href="#data-source-v2-procedure-web-crawler">Connection
                    instructions</a></li></ul></div>
            <h2 id="supported-features-v2-web-crawler">Supported features</h2>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Field mappings</p>
                </li><li class="listitem">
                    <p>Web proxy</p>
                </li><li class="listitem">
                    <p>Inclusion/exclusion filters</p>
                </li><li class="listitem">
                    <p>Virtual private cloud (VPC)</p>
                </li><li class="listitem">
                    <p>Sync all documents / sync only new, modified, deleted documents</p>
                </li><li class="listitem">
                    <p>Basic, NTLM/Kerberos, SAML, and form authentication for your websites</p>
                </li></ul></div>
         
            <h2 id="prerequisites-v2-web-crawler">Prerequisites</h2>
            
            <p>Before you can use Amazon Kendra to index your websites, check the 
                details of your websites and AWS accounts.</p>
            <p><b>For your websites, make sure you have:</b></p>
            <div class="itemizedlist">
                 
                 
                 
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p>Copied the seed or sitemap URLs of the websites you want to index. 
                        You can store the URLs in a text file and upload this to an 
                        Amazon S3 bucket. Each URL in the text file must be formatted 
                        on a separate line. If you want to store your sitemaps in an Amazon S3 bucket, make sure you have copied the sitemap XML and 
                        saved this in an XML file. You can also club multiple sitemap XML 
                        files into a ZIP file.</p>
                    
 <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>(On-premise/server) Amazon Kendra checks if the endpoint information included in  
 AWS Secrets Manager is the same the endpoint information specified in your data source 
 configuration details. This helps protect against the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/confused-deputy.html">confused deputy problem</a>, which is a 
 security issue where a user doesn’t have permission to perform an action but uses 
 Amazon Kendra as a proxy to access the configured secret and perform the action. If you 
 later change your endpoint information, you must create a new secret to sync this 
 information.</p></div></div>

                </li><li class="listitem">
                    <p><b>For websites that require basic, NTLM, or 
                        Kerberos authentication</b>:</p>
                    <div class="itemizedlist">
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Noted your website authentication credentials, which include 
                                a user name and password.</p>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Amazon Kendra Web Crawler v2.0 supports the NTLM 
                                    authentication protocol that includes password hashing, 
                                    and Kerberos authentication protocol that includes 
                                    password encryption.</p></div></div>
                        </li></ul></div>
                </li><li class="listitem">
                    <p><b>For websites that require SAML or login form 
                        authentication</b>:</p>
                    <div class="itemizedlist">
                         
                         
                    <ul class="itemizedlist"><li class="listitem">
                            <p>Noted your website authentication credentials, which include 
                                a user name and password.</p>
                        </li><li class="listitem">
                            <p>Copied the XPaths (XML Path Language) of the user name field 
                                (and the user name button if using SAML), password field and 
                                button, and copied the login page URL. You can find the XPaths 
                                of elements using your web browser’s developer tools. XPaths 
                                usually follow this format: <code class="code">//tagname[@Attribute='Value']</code>.</p>
                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Amazon Kendra Web Crawler v2.0 uses a headless 
                                    Chrome browser and the information from the form to 
                                    authenticate and authorize access with an OAuth 2.0 
                                    protected URL.</p></div></div>
                        </li></ul></div>
                </li><li class="listitem">
                    <p><b>Optional</b>: Copied the host name and the port 
                        number of the web proxy server if you want to use a web proxy to connect to 
                        internal websites you want to crawl. The web proxy must be public facing. 
                        Amazon Kendra supports connecting to web proxy servers that are backed by 
                        basic authentication or you can connect with no authentication.</p>
                </li><li class="listitem">
                    <p><b>Optional</b>: Copied the virtual private 
                        cloud (VPC) subnet ID if you want to use a VPC to connect to internal 
                        websites you want to crawl. For more information, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/vpc-configuration.html">Configuring an Amazon VPC</a>.</p>
                </li><li class="listitem">
                    <p>Checked each web page document you want to index is unique and across other 
                        data sources you plan to use for the same index. Each data source that you want 
                        to use for an index must not contain the same document across the data sources. 
                        Document IDs are global to an index and must be unique per index.</p>
                </li></ul></div>
            
            <p><b>In your AWS account, make sure you have:</b></p>
            <div class="itemizedlist">
                 
                 
                 
            <ul class="itemizedlist"><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/create-index.html">Created 
                        an Amazon Kendra index</a> and, if using the API, noted the index 
                        ID.</p>
                </li><li class="listitem">
                    <p><a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-ds">Created an IAM role</a> for your data source and, if 
                        using the API, noted the ARN of the IAM role.</p>
                    

 <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you change your authentication type and credentials, you must 
 update your IAM role to access the correct AWS Secrets Manager secret ID.</p></div></div>


                </li><li class="listitem">
                    <p>For websites that require authentication, or if using a web proxy with 
                        authentication, stored your authentication credentials in an AWS Secrets Manager 
                        secret and, if using the API, noted the ARN of the secret.</p>
                    

 <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>We recommend that you regularly refresh or rotate your credentials 
  and secret. Provide only the necessary access level for your own security. 
  We do <b>not</b> recommend that you re-use
  credentials and secrets across data sources, and connector versions 1.0 and
  2.0 (where applicable).</p></div></div>


                </li></ul></div>
            <p>If you don't have an existing IAM role or secret, you can use 
                the console to create a new IAM role and Secrets Manager 
                secret when you connect your web crawler data source to 
                Amazon Kendra. If you are using the API, you must provide the ARN of an 
                existing IAM role and Secrets Manager secret, and an index ID.</p>
         
            <h2 id="data-source-v2-procedure-web-crawler">Connection
                    instructions</h2>
            
            <p>To connect Amazon Kendra to your web crawler data 
                source, you must provide the necessary details of your web crawler 
                data source so that Amazon Kendra can access your data. If you have not yet 
                configured web crawler for Amazon Kendra see 
                <a href="#prerequisites-v2-web-crawler">Prerequisites</a>.</p>
            
            
            
             
                <awsdocs-tabs><dl style="display: none">
                    
                    
                    
                    <dt>Console</dt><dd tab-id="console">
                            <p><b>To connect Amazon Kendra to
                                web crawler</b>
                            </p>
                            <div class="procedure"><ol><li>
    <p>Sign in to the AWS Management Console and open the <a href="https://console.aws.amazon.com/kendra/" rel="noopener noreferrer" target="_blank"><span>Amazon Kendra console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
    </li><li>
    <p>From the left navigation pane, choose <b>Indexes</b> and then choose the index you want to use from the list of indexes.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>You can choose to configure or edit your <b>User access control</b> settings under <b>Index settings</b>.
    </p></div></div>
    </li><li>
    <p>On the <b>Getting started</b> page, choose <b>Add data source</b>.</p>
    </li><li>
    <p>On the <b>Add data source</b> page, choose <b>web crawler connector</b>, and then choose <b>Add data source</b>.</p>
    </li><li> 
    <p>On the <b>Specify data source details</b> page, enter the following information:</p>
        <ol><li>
            <p>In <b>Name and description</b>, for <b>Data source name</b>—Enter a name for your data source. You can include hyphens but not spaces.</p>
            </li><li>
            <p>(Optional)<b> Description</b>—Enter an optional description for your data source.</p>
            </li><li>
            <p>In <b>Language</b>, for <b>Default language</b>—A language to filter your documents for the index. Unless you specify otherwise,
            the language defaults to English. Language specified in the document metadata overrides the selected language.</p>
            </li><li>
            <p>In <b>Tags</b>, for <b>Add new tag</b>—Tags to search and filter your resources or track your AWS costs.</p>
            </li><li>
            <p>Choose <b>Next</b>.</p>
            </li></ol>
      </li><li>
                                    <p>On the <b>Define access and security</b> page,
                                        enter the following information:</p>
                                    <ol><li>
                                            <p><b>Source</b>—Choose either 
                                                <b>Source URLs</b>, <b>Source 
                                                    sitemaps</b>, <b>Source URLs 
                                                        file</b>, <b>Source sitemaps 
                                                            file</b>. If you choose to use a 
                                                text file that includes a list of up to 100 seed URLs, 
                                                you specify the path to the Amazon S3 bucket 
                                                where your file is stored. If you choose to use a 
                                                sitemap XML file, you specify the path to the Amazon S3 bucket where your file is stored. You can 
                                                also club multiple sitemap XML files into a ZIP file. 
                                                Otherwise, you can manually enter up to 10 seed or 
                                                starting point URLs, and up to three sitemap URLs.</p>
                                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you want to crawl a sitemap, check that the
                                                    base or root URL is the same as the URLs listed on
                                                    your sitemap page. For example, if your sitemap
                                                    URL is
                                                    <em>https://example.com/sitemap-page.html</em>,
                                                    the URLs listed on this sitemap page should also
                                                    use the base URL "https://example.com/".</p></div></div>
                                            <p>If your websites require authentication to access the 
                                                websites, you can choose ether basic, NTLM/Kerberos, 
                                                SAML, or form authentication. Otherwise, choose the option 
                                                for no authentication.</p>
                                            <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you want to later edit your data source to change 
                                                    your seed URLs with authentication to sitemaps, you 
                                                    must create a new data source. Amazon Kendra 
                                                    configures the data source using the seed URLs endpoint 
                                                    information in the Secrets Manager secret for 
                                                    authentication, and therefore cannot re-configure the 
                                                    data source when changing to sitemaps.</p></div></div>
                                            <ol><li>
                                                    <p><b>AWS Secrets Manager secret</b>—If 
                                                        your websites require the same authentication to access the 
                                                        websites, choose an existing secret or create a new 
                                                        Secrets Manager secret to store your website 
                                                        credentials. If you choose to create a new secret, 
                                                        an AWS Secrets Manager secret window opens.</p>
                                                    <p>If you chose <b>Basic</b> or 
                                                        <b>NTML/Kerberos</b> authentication, 
                                                        enter a name for the secret, plus the user name 
                                                        and password. NTLM authentication protocol 
                                                        includes password hashing, and Kerberos 
                                                        authentication protocol includes password 
                                                        encryption.</p>
                                                    <p>If you chose <b>SAML</b> or 
                                                        <b>Form</b> authentication, enter a 
                                                        name for the secret, plus the user name and 
                                                        password. Use XPath for the user name field (and 
                                                        XPath for the user name button if using SAML). Use 
                                                        XPaths for the password field and button, and 
                                                        login page URL. You can find the XPaths (XML Path 
                                                        Language) of elements using your web browser's 
                                                        developer tools. XPaths usually follow this 
                                                        format: <code class="code">//tagname[@Attribute='Value']</code>.</p>
                                                </li></ol>
                                        </li><li>
                                            <p>(Optional) <b>Web proxy</b>—Enter the host name 
                                                and the port number of the proxy sever you want to use to connect to 
                                                internal websites. For example, the host name of 
                                                <em>https://a.example.com/page1.html</em> is 
                                                "a.example.com" and the port number is is 443, the standard 
                                                port for HTTPS. If web proxy credentials are required to connect to a website 
                                                host, you can create an AWS Secrets Manager that stores the 
                                                credentials.</p>
                                        </li><li>
                                            
   <p><b>Virtual Private Cloud (VPC)</b>—You can choose to use a VPC. If
   so, you must add <b>Subnets</b> and <b>VPC security groups</b>.</p>
   
   
                                        </li><li>
                                            
    <p><b>IAM role</b>—Choose an existing IAM 
    role or create a new IAM role to access your repository credentials and index content.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>IAM roles used for indexes cannot be used for data sources. If you are unsure 
       if an existing role is used for an index or FAQ, choose <b>Create a new role</b> to avoid 
       errors.</p></div></div>
   
                                        </li><li>
                                            <p>Choose <b>Next</b>.</p>
                                        </li></ol>
                                </li><li>
                                    <p>On the <b>Configure sync settings</b> page,
                                        enter the following information:</p>
                                    <ol><li>
                                            <p><b>Sync scope</b>—Set limits 
                                                for crawling web pages including their domains, file 
                                                sizes and links; and filter URLs using regex patterns.</p>
                                            <ol><li>
                                                    <p>(Optional) <b>Crawl domain 
                                                        range</b>—Choose whether to crawl 
                                                        website domains only, domains with subdomains, or 
                                                        also crawl other domains that the web pages link to. 
                                                        By default, Amazon Kendra only crawls the 
                                                        domains of the websites you want to crawl.</p>
                                                </li><li>
                                                    <p>(Optional) <b>Additional 
                                                        configuration</b>—Set the 
                                                        following settings:</p>
                                                    <div class="itemizedlist">
                                                         
                                                         
                                                         
                                                         
                                                         
                                                         
                                                    <ul class="itemizedlist"><li class="listitem">
                                                            <p><b>Crawl depth</b>—The 
                                                                'depth' or number of levels from 
                                                                the seed level to crawl. For example, the seed URL page 
                                                                is depth 1 and any hyperlinks on this page that are also 
                                                                crawled are depth 2.</p>
                                                        </li><li class="listitem">
                                                            <p><b>Maximum file size</b>—The 
                                                                maximum size in MB of a web page or attachment 
                                                                to crawl.</p>
                                                        </li><li class="listitem">
                                                            <p><b>Maximum links per page</b>—The 
                                                                maximum number of URLs on a single webpage 
                                                                to crawl.</p>
                                                        </li><li class="listitem">
                                                            <p><b>Maximum throttling of crawling speed</b>—The 
                                                                maximum number of URLs crawled per website host per minute.</p>
                                                        </li><li class="listitem">
                                                            <p><b>Files</b>—Choose to crawl files that the 
                                                                web pages link to.</p>
                                                        </li><li class="listitem">
                                                            <p><b>Crawl and index URLs</b>—Add regular 
                                                                expression patterns to include or exclude crawling certain URLs, and 
                                                                indexing any hyperlinks on these URL web pages.</p>
                                                        </li></ul></div>
                                                </li></ol>
                                        </li><li>
                                            <p><b>Sync mode</b>—Choose how you want to update your 
                                            index when your data source content changes. When you sync your data source 
                                            with Amazon Kendra for the first time, all content is synced by default.</p>
                                            <div class="itemizedlist">
                                                 
                                                 
                                            <ul class="itemizedlist"><li class="listitem">
                                                    <p><b>Full sync</b>—Sync all content regardless 
                                                        of the previous sync status.</p>
                                                </li><li class="listitem">
                                                    <p><b>New, modified, or deleted documents sync</b>—Sync 
                                                        only new, modified, and deleted documents.</p>
                                                </li></ul></div>
                                        </li><li>
                                            <p><b>Sync run schedule</b>—For <b>Frequency</b>, 
                                                choose how often Amazon Kendra will sync with your data source.</p>
                                        </li><li>
                                            <p>Choose <b>Next</b>.</p>
                                        </li></ol>
                                </li><li>
                                    <p>On the <b>Set field mappings</b> page,
                                        enter the following information:</p>
                                    <ol><li>
                                            <p>Select from the Amazon Kendra generated default 
                                                fields of web pages and files that you want to map to your 
                                                index.</p>
                                        </li><li>
                                            <p>Choose <b>Next</b>.</p>
                                        </li></ol>
                                </li><li>
                                    
   <p>On the <b>Review and create</b> page, check that
   the information you have entered is correct and then select
   <b>Add data source</b>. You can also choose to edit your information from this page. 
   Your data source will appear on the <b>Data sources</b> page after the data source has been 
   added successfully.</p>
   
   
                                </li></ol></div>
                        </dd>
                    
                    
                    
                    <dt>API</dt><dd tab-id="api">
                            <p><b>To connect Amazon Kendra to
                                web crawler</b></p>
                            <p>You must specify a JSON of the <a href="https://docs.aws.amazon.com/kendra/latest/dg/ds-schemas.html#ds-web-crawler-schema">data source 
                                schema</a> using the <a href="https://docs.aws.amazon.com/kendra/latest/dg/API_TemplateConfiguration.html">TemplateConfiguration</a> API. You must provide 
                                the following information:</p>
                            
                            
                            
                            <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 
                            <ul class="itemizedlist"><li class="listitem">
                                    <p><b>Data source</b>—Specify 
                                        the data source as <code class="code">WEBCRAWLERV2</code>.</p>
                                </li><li class="listitem">
                                    <p><b>URLs</b>—Specify the seed 
                                        or starting point URLs of the websites or the sitemap URLs of 
                                        the websites you want to crawl. You can specify the path to an 
                                        Amazon S3 bucket that stores your list of seed URLs. Each 
                                        URL in the text file for seed URLs must be formatted on a separate 
                                        line. You can also specify the path to an Amazon S3 bucket 
                                        that stores your sitemap XML files. You can club together multiple 
                                        sitemap files into a ZIP file and store the ZIP file in your 
                                        Amazon S3 bucket.</p>
                                    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>If you want to crawl a sitemap, check that the base or
                                            root URL is the same as the URLs listed on your sitemap
                                            page. For example, if your sitemap URL is 
                                            <em>https://example.com/sitemap-page.html</em>,
                                            the URLs listed on this sitemap page should also use the
                                            base URL "https://example.com/".</p></div></div>
                                </li><li class="listitem">
                                    
    <p><b>Type</b>—Specify
    <code class="code">TEMPLATE</code> as the Type when you call <code class="code">CreateDataSource</code>.</p>
    
   
                                </li><li class="listitem">
                                    <p><b>Authentication</b>—If your websites 
                                        require the same authentication, specify either <code class="code">BasicAuth</code>, 
                                        <code class="code">NTLM_Kerberos</code>, <code class="code">SAML</code>, or 
                                        <code class="code">Form</code> authentication. If your websites don't require 
                                        authentication, specify <code class="code">NoAuthentication</code>.</p>
                                </li><li class="listitem">
                                    <p><b>Secret Amazon Resource Name (ARN)</b>—If 
                                        your websites require basic, NTLM, or Kerberos authentication, you provide 
                                        a secret that stores your authentication credentials of your user name and 
                                        password. You provide the Amazon Resource Name (ARN) of an 
                                        AWS Secrets Manager secret. The secret is stored in a JSON 
                                        structure with the following keys:</p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "seedUrlsHash": "<code class="replaceable">Hash representation of all seed URLs</code>",
    "userName": "<code class="replaceable">user name</code>",
    "password": "<code class="replaceable">password</code>"
}</code></pre>
                                    <p>If your websites require SAML authentication, the secret is stored 
                                        in a JSON structure with the following keys:</p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "seedUrlsHash": "<code class="replaceable">Hash representation of all seed URLs</code>",                                
    "userName": "<code class="replaceable">user name</code>",
    "password": "<code class="replaceable">password</code>",
    "userNameFieldXpath": "<code class="replaceable">XPath for user name field</code>",
    "userNameButtonXpath": "<code class="replaceable">XPath for user name button</code>",
    "passwordFieldXpath": "<code class="replaceable">XPath for password field</code>",
    "passwordButtonXpath": "<code class="replaceable">XPath for password button</code>",
    "loginPageUrl": "<code class="replaceable">Full URL for website login page</code>"
}</code></pre>
                                    <p>If your websites require form authentication, the secret is stored 
                                        in a JSON structure with the following keys:</p>
                                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "seedUrlsHash": "<code class="replaceable">Hash representation of all seed URLs</code>",
    "userName": "<code class="replaceable">user name</code>",
    "password": "<code class="replaceable">password</code>",
    "userNameFieldXpath": "<code class="replaceable">XPath for user name field</code>",
    "passwordFieldXpath": "<code class="replaceable">XPath for password field</code>",
    "passwordButtonXpath": "<code class="replaceable">XPath for password button</code>",
    "loginPageUrl": "<code class="replaceable">Full URL for website login page</code>"
}</code></pre>
                                    <p>You can find the XPaths (XML Path Language) of elements
                                        using your web browser's developer tools. XPaths usually
                                        follow this format: <code class="code">//tagname[@Attribute='Value']</code>.</p>
                                    <p>You can also provide web proxy credentials using and 
                                        AWS Secrets Manager secret.</p>
                                </li><li class="listitem">
                                    
    <p><b>IAM role</b>—Specify <code class="code">RoleArn</code>
     when you call <code class="code">CreateDataSource</code> to provide an IAM role with permissions to access
    your Secrets Manager secret and to call the required public
    APIs for the web crawler connector and Amazon Kendra. 
    For more information, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/iam-roles.html#iam-roles-ds">IAM roles for web crawler 
    data sources</a>.</p>
    
   
                                </li></ul></div>
                            
                            
                            
                            <p>You can also add the following optional features:</p>
                            <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                                 
                            <ul class="itemizedlist"><li class="listitem">
                                    <p><b>Domain range</b>—Choose whether 
                                        to crawl website domains with subdomains only, or also crawl other 
                                        domains the web pages link to. By default, Amazon Kendra only 
                                        crawls the domains of the websites you want to crawl.</p>
                                </li><li class="listitem">
                                    <p>The 'depth' or number of levels from the seed
                                        level to crawl. For example, the seed URL page is depth 1 
                                        and any hyperlinks on this page that are also crawled are 
                                        depth 2.</p>
                                </li><li class="listitem">
                                    <p>The maximum number of URLs on a single web page to crawl.</p>
                                </li><li class="listitem">
                                    <p>The maximum size in MB of a web page or attachment to crawl.</p>
                                </li><li class="listitem">
                                    <p>The maximum number of URLs crawled per website host per minute.</p>
                                </li><li class="listitem">
                                    <p>The web proxy host and port number to connect to and crawl internal 
                                        websites. For example, the host name of 
                                        <em>https://a.example.com/page1.html</em> is 
                                        "a.example.com" and the port number is is 443, the standard 
                                        port for HTTPS. If web proxy credentials are required to connect to a website 
                                        host, you can create an AWS Secrets Manager that stores the credentials.</p>
                                </li><li class="listitem">
                                    
    <p>
    <b>Virtual Private Cloud
    (VPC)</b>—Specify
    <code class="code">VpcConfiguration</code> when you call <code class="code">CreateDataSource</code>. 
    For more information, see <a href="./vpc-configuration.html">Configuring Amazon Kendra to use an Amazon VPC</a>.</p>
    
   
                                </li><li class="listitem">
                                    <p><b>Field mappings</b>—Choose to map the 
                                        fields of web pages and web page files to your 
                                        Amazon Kendra index fields. For more information, see 
                                        <a href="https://docs.aws.amazon.com/kendra/latest/dg/field-mapping.html">Mapping 
                                            data source fields</a>.</p>
                                </li><li class="listitem">
                                    <p><b>Sync mode</b>—Specify
                                        whether Amazon Kendra should update your index by
                                        syncing all documents, or only new, modified, and deleted
                                        documents. You can choose between:</p>
                                    <div class="itemizedlist">
                                         
                                         
                                    <ul class="itemizedlist"><li class="listitem">
                                            <p><code class="code">FORCED_FULL_CRAWL</code> to freshly 
                                                re-crawl all content and replace existing content each time 
                                                your data source syncs with your index.</p>
                                        </li><li class="listitem">
                                            <p><code class="code">FULL_CRAWL</code> to incrementally 
                                                crawl only new, modified, and deleted content each time 
                                                your data source syncs with your index.</p>
                                        </li></ul></div>
                                </li><li class="listitem">
                                    <p><b>Inclusion and exclusion filters</b>—Specify 
                                        whether to include or exclude crawling certain URLs and indexing any hyperlinks 
                                        on these URL web pages.</p>
                                    
     <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>Most data sources use regular expression patterns, 
     which are inclusion or exclusion patterns referred to as filters. 
     If you specify an inclusion filter, only content that
     matches the inclusion filter is indexed. Any document that
     doesn’t match the inclusion filter isn’t indexed. If you
     specify an inclusion and exclusion filter, documents that
     match the exclusion filter are not indexed, even if they
     match the inclusion filter.</p></div></div>
    
   
                                </li></ul></div>
                            <p>For a list of other important JSON keys to configure, see <a href="https://docs.aws.amazon.com/kendra/latest/dg/ds-schemas.html#ds-schema-web-crawler">Amazon Kendra Web Crawler template schema</a>.</p>
                        </dd>
                </dl></awsdocs-tabs>
             
            
        <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./data-source-v1-web-crawler.html">Amazon Kendra Web Crawler 
                connector v1.0</div><div id="next" class="next-link" accesskey="n" href="./stop-web-crawler.html">Configuring the robots.txt file for Amazon Kendra Web
                Crawler</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/data-source-v2-web-crawler.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/data-source-v2-web-crawler.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>