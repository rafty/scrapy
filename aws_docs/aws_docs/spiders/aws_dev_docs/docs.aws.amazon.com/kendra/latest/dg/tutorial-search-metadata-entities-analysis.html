<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Step 2: Running an entities analysis job on Amazon Comprehend - Amazon Kendra</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="tutorial-search-metadata-entities-analysis" /><meta name="default_state" content="tutorial-search-metadata-entities-analysis" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" /><meta name="description" content="Run an entities analysis job on Amazon Comprehend for this tutorial." /><meta name="deployment_region" content="IAD" /><meta name="product" content="Amazon Kendra" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="Provides a conceptual overview of Amazon Kendra. Learn about Amazon Kendra features and get started indexing your documents using the console, CLI, and API." /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" hreflang="x-default" /><meta name="feedback-item" content="Kendra" /><meta name="this_doc_product" content="Amazon Kendra" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'kendra'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Step 2: Running an entities analysis job on Amazon Comprehend" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Step 2: Running an entities analysis job on Amazon Comprehend - Amazon Kendra</title><meta name="pdf" content="/pdfs/kendra/latest/dg/kendra-dg.pdf#tutorial-search-metadata-entities-analysis" /><meta name="rss" content="amazon-kendra-release-notes.rss" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html" /><meta name="keywords" content="Kendra,Amazon Kendra,search,intelligent search,natural language,index,question,keyword,data source,connector,FAQ,frequently asked question,Amazon Comprehend,Comprehend,entities,metadata,natural language search,entities detection" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Tutorial: Building a metadata-enriched, intelligent search solution with Amazon Kendra",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/tutorial-search-metadata.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Step 2: Running an entities analysis job on Amazon Comprehend",
        "item" : "https://docs.aws.amazon.com/kendra/latest/dg/tutorial-search-metadata.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/kendra/latest/dg/kendra-dg.pdf#tutorial-search-metadata-entities-analysis" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/kendra/index.html">Amazon Kendra</a><a href="what-is-kendra.html">Developer Guide</a></div><div id="page-toc-src"><a href="#tutorial-search-metadata-entities-analysis-job">Running an Amazon Comprehend entities
          analysis job</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="tutorial-search-metadata-entities-analysis">Step 2: Running an entities
        analysis job on Amazon Comprehend</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>After storing the sample dataset in your S3 bucket, you run an Amazon Comprehend entities analysis job
      to extract entities from your documents. These entities will form Amazon Kendra custom attributes and
      help you filter search results on your index. For more information, see <a href="https://docs.aws.amazon.com/comprehend/latest/dg/how-entities.html">Detect
        Entities</a>.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#tutorial-search-metadata-entities-analysis-job">Running an Amazon Comprehend entities
          analysis job</a></li></ul></div>
      <h2 id="tutorial-search-metadata-entities-analysis-job">Running an Amazon Comprehend entities
          analysis job</h2>
      <p>To extract entities from your dataset, you run an Amazon Comprehend entities analysis job.</p>
      <p>If you are using the AWS CLI in this step, you first create and attach an AWS IAM
        role and policy for Amazon Comprehend and then run an entities analysis job. To run an entities analysis
        job on your sample data, Amazon Comprehend needs:</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>an AWS Identity and Access Management (IAM) role that recognizes it as a trusted entity</p>
        </li><li class="listitem">
          <p>an AWS IAM policy attached to the IAM role that gives it permissions to access
            your S3 bucket</p>
        </li></ul></div>
      <p>For more information, see <a href="https://docs.aws.amazon.com/comprehend/latest/dg/security_iam_service-with-iam.html">How Amazon Comprehend works with
          IAM</a> and <a href="https://docs.aws.amazon.com/comprehend/latest/dg/security_iam_id-based-policy-examples.html">Identity-Based
          Policies for Amazon Comprehend</a>.</p>
      <div class="collapsible" data-expand-section="_collapse_all_"><awsui-expandable-section variant="container" header="To run an Amazon Comprehend&#xA;              entities analysis job (Console)" id="tutorial-search-metadata-entities-analysis-console" expanded="false"><div class="procedure"><ol><li><p>Open the Amazon Comprehend console at <a href="https://console.aws.amazon.com/comprehend/" rel="noopener noreferrer" target="_blank"><span>https://console.aws.amazon.com/comprehend/</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
              <div class="awsdocs-note awsdocs-important"><div class="awsdocs-note-title"><awsui-icon name="status-warning" variant="error"></awsui-icon><h6>Important</h6></div><div class="awsdocs-note-text"><p>Ensure that you are in the same region in which you created your Amazon S3 bucket.
                  If you are in another region, choose the AWS region where you created your S3
                  bucket from the <b>Region selector</b> in the top navigation
                  bar.</p></div></div>
            </li><li>
              <p>Choose <b>Launch Amazon Comprehend</b>.</p>
            </li><li>
              <p> In the left navigation pane, choose <b>Analysis jobs</b>.</p>
            </li><li>
              <p> Choose <b>Create job</b>.</p>
            </li><li>
              <p>In the <b>Job settings</b> section, do the following:</p>
              <ol><li>
                  <p> For <b>Name</b>, enter
                      <code class="userinput">data-entities-analysis</code>.</p>
                </li><li>
                  <p>For <b>Analysis type</b>, choose
                    <b>Entities</b>.</p>
                </li><li>
                  <p>For <b>Language</b>, choose
                    <b>English</b>.</p>
                </li><li>
                  <p>Keep <b>Job encryption</b> turned off.</p>
                </li></ol>
            </li><li>
              <p>In the <b>Input data</b> section, do the following:</p>
              <ol><li>
                  <p>For <b>Data source</b>, choose <b>My
                      documents</b>.</p>
                </li><li>
                  <p>For <b>S3 location</b>, choose <b>Browse
                    S3</b>.</p>
                </li><li>
                  <p>For <b>Choose resources</b>, click on the name of your bucket
                    from the list of buckets.</p>
                </li><li>
                  <p>For <b>Objects</b>, select the option button for
                      <code>data</code> and choose <b>Choose</b>.</p>
                </li><li>
                  <p>For <b>Input format</b>, choose <b>One document per
                      file</b>.</p>
                </li></ol>
            </li><li>
              <p>In the <b>Output data</b> section, do the following:</p>
              <ol><li>
                  <p>For <b>S3 location</b>, choose <b>Browse S3</b>
                    and then select the option box for your bucket from the list of buckets and
                    choose <b>Choose</b>.</p>
                </li><li>
                  <p>Keep <b>Encryption</b> turned off.</p>
                </li></ol>
            </li><li>
              <p>In the <b>Access permissions</b> section, do the following:</p>
              <ol><li>
                  <p>For <b>IAM role</b>, choose <b>Create an IAM
                      role</b>.</p>
                </li><li>
                  <p>For <b>Permissions to access</b>, choose <b>Input and
                      Output S3 buckets</b>.</p>
                </li><li>
                  <p>For <b>Name suffix</b>, enter
                      <code class="userinput">comprehend-role</code>. This role provides access to your Amazon S3
                    bucket.</p>
                </li></ol>
            </li><li>
              <p>Keep the default <b>VPC settings</b>.</p>
            </li><li>
              <p>Choose <b>Create job</b>.</p>
            </li></ol></div></awsui-expandable-section><awsui-expandable-section variant="container" header="To run an Amazon Comprehend&#xA;              entities analysis job (AWS CLI)" id="tutorial-search-metadata-entities-analysis-cli" expanded="false"><div class="procedure"><ol><li>
              <p>To create and attach an IAM role for Amazon Comprehend that recognizes it as a trusted
                entity, do the following:</p>
              <ol><li>
                  <p>Save the following trust policy as a JSON file called
                      <code>comprehend-trust-policy.json</code> in a text editor on your
                    local device.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
  "Version": "2012-10-17",
  "Statement": [
    <span>{</span>
      "Effect": "Allow",
      "Principal": <span>{</span>
        "Service": "comprehend.amazonaws.com"
      },
      "Action": "sts:AssumeRole"
    }
  ]
}</code></pre>
                </li><li>
                  <p>To create an IAM role called <code class="code">comprehend-role</code> and attach your
                    saved <code>comprehend-trust-policy.json</code> file to it, use the
                      <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/iam/create-role.html" rel="noopener noreferrer" target="_blank"><span>create-role</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command:</p>
                  <awsdocs-tabs><dl style="display: none">
                    <dt>Linux</dt><dd tab-id="linux">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam create-role \
          --role-name comprehend-role \
          --assume-role-policy-document file://<code class="replaceable">path/</code>comprehend-trust-policy.json</code></pre>
                        <p>Where:</p>
                        <div class="itemizedlist">
                           
                        <ul class="itemizedlist"><li class="listitem">
                            <p><code class="replaceable">path/</code> is the filepath to
                                <code>comprehend-trust-policy.json</code> on your local
                              device.</p>
                          </li></ul></div>
                      </dd>
                    <dt>macOS</dt><dd tab-id="macos">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam create-role \
          --role-name comprehend-role \
          --assume-role-policy-document file://<code class="replaceable">path/</code>comprehend-trust-policy.json</code></pre>
                        <p>Where:</p>
                        <div class="itemizedlist">
                           
                        <ul class="itemizedlist"><li class="listitem">
                            <p><code class="replaceable">path/</code> is the filepath to
                                <code>comprehend-trust-policy.json</code> on your local
                              device.</p>
                          </li></ul></div>
                      </dd>
                    <dt>Windows</dt><dd tab-id="windows">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam create-role ^
          --role-name comprehend-role ^
          --assume-role-policy-document file://<code class="replaceable">path/</code>comprehend-trust-policy.json</code></pre>
                        <p>Where:</p>
                        <div class="itemizedlist">
                           
                        <ul class="itemizedlist"><li class="listitem">
                            <p><code class="replaceable">path/</code> is the filepath to
                                <code>comprehend-trust-policy.json</code> on your local
                              device.</p>
                          </li></ul></div>
                      </dd>
                  </dl></awsdocs-tabs>
                </li><li>
                  <p>Copy the Amazon Resource Name (ARN) to your text editor and save it locally
                    as <code class="code">comprehend-role-arn</code>.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The ARN has a format similar to
                        <code class="replaceable">arn:aws:iam::123456789012:role/comprehend-role</code>.
                      You need the ARN you saved as <code class="code">comprehend-role-arn</code> to run the
                      Amazon Comprehend analysis job.</p></div></div>
                </li></ol>
            </li><li>
              <p>To create and attach an IAM policy to your IAM role that grants it
                permissions to access your S3 bucket, do the following:</p>
              <ol><li>
                  <p>Save the following trust policy as a JSON file called
                      <code>comprehend-S3-access-policy.json</code> in a text editor on your
                    local device.</p>
                  <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
    "Version": "2012-10-17",
    "Statement": [
        <span>{</span>
            "Action": [
                "s3:GetObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/*"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Action": [
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET</code>"
            ],
            "Effect": "Allow"
        },
        <span>{</span>
            "Action": [
                "s3:PutObject"
            ],
            "Resource": [
                "arn:aws:s3:::<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/*"
            ],
            "Effect": "Allow"
        }
    ]
}</code></pre>
                </li><li>
                  <p>To create an IAM policy called <code class="code">comprehend-S3-access-policy</code> to
                    access your S3 bucket, use the <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/iam/create-policy.html" rel="noopener noreferrer" target="_blank"><span>create-policy</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command:</p>
                  <awsdocs-tabs><dl style="display: none">
                    <dt>Linux</dt><dd tab-id="linux">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam create-policy \
          --policy-name comprehend-S3-access-policy \
          --policy-document file://<code class="replaceable">path/</code>comprehend-S3-access-policy.json</code></pre>
                        <p>Where:</p>
                        <div class="itemizedlist">
                           
                        <ul class="itemizedlist"><li class="listitem">
                            <p><code class="replaceable">path/</code> is the filepath to
                                <code>comprehend-S3-access-policy.json</code> on your local
                              device.</p>
                          </li></ul></div>
                      </dd>
                    <dt>macOS</dt><dd tab-id="macos">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam create-policy \
          --policy-name comprehend-S3-access-policy \
          --policy-document file://<code class="replaceable">path/</code>comprehend-S3-access-policy.json</code></pre>
                        <p>Where:</p>
                        <div class="itemizedlist">
                           
                        <ul class="itemizedlist"><li class="listitem">
                            <p><code class="replaceable">path/</code> is the filepath to
                                <code>comprehend-S3-access-policy.json</code> on your local
                              device.</p>
                          </li></ul></div>
                      </dd>
                    <dt>Windows</dt><dd tab-id="windows">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam create-policy ^
          --policy-name comprehend-S3-access-policy ^
          --policy-document file://<code class="replaceable">path/</code>comprehend-S3-access-policy.json</code></pre>
                        <p>Where:</p>
                        <div class="itemizedlist">
                           
                        <ul class="itemizedlist"><li class="listitem">
                            <p><code class="replaceable">path/</code> is the filepath to
                                <code>comprehend-S3-access-policy.json</code> on your local
                              device.</p>
                          </li></ul></div>
                      </dd>
                  </dl></awsdocs-tabs>
                </li><li>
                  <p>Copy the Amazon Resource Name (ARN) to your text editor and save it locally
                    as <code class="code">comprehend-S3-access-arn</code>.</p>
                  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The ARN has a format similar to
                        <code class="replaceable">arn:aws:iam::123456789012:role/comprehend-S3-access-policy</code>.
                      You need the ARN you saved as <code class="code">comprehend-S3-access-arn</code> to attach
                      the <code class="code">comprehend-S3-access-policy</code> to your IAM role.</p></div></div>
                </li><li>
                  <p>To attach the <code class="code">comprehend-S3-access-policy</code> to your IAM role,
                    use the <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/iam/attach-role-policy.html" rel="noopener noreferrer" target="_blank"><span>attach-role-policy</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command:</p>
                  <awsdocs-tabs><dl style="display: none">
                    <dt>Linux</dt><dd tab-id="linux">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam attach-role-policy \
          --policy-arn <code class="replaceable">policy-arn</code> \
          --role-name comprehend-role</code></pre>
                        <p>Where:</p>
                        <div class="itemizedlist">
                           
                        <ul class="itemizedlist"><li class="listitem">
                            <p><code class="replaceable">policy-arn</code> is the ARN you saved as
                                <code class="code">comprehend-S3-access-arn</code>.</p>
                          </li></ul></div>
                      </dd>
                    <dt>macOS</dt><dd tab-id="macos">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam attach-role-policy \
          --policy-arn <code class="replaceable">policy-arn</code> \
          --role-name comprehend-role</code></pre>
                        <p>Where:</p>
                        <div class="itemizedlist">
                           
                        <ul class="itemizedlist"><li class="listitem">
                            <p><code class="replaceable">policy-arn</code> is the ARN you saved as
                                <code class="code">comprehend-S3-access-arn</code>.</p>
                          </li></ul></div>
                      </dd>
                    <dt>Windows</dt><dd tab-id="windows">
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws iam attach-role-policy ^
          --policy-arn <code class="replaceable">policy-arn</code> ^
          --role-name comprehend-role</code></pre>
                        <p>Where:</p>
                        <div class="itemizedlist">
                           
                        <ul class="itemizedlist"><li class="listitem">
                            <p><code class="replaceable">policy-arn</code> is the ARN you saved as
                                <code class="code">comprehend-S3-access-arn</code>.</p>
                          </li></ul></div>
                      </dd>
                  </dl></awsdocs-tabs>
                </li></ol>
            </li><li>
              <p>To run an Amazon Comprehend entities analysis job, use the <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/comprehend/start-entities-detection-job.html" rel="noopener noreferrer" target="_blank"><span>start-entities-detection-job</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command:</p>
              <awsdocs-tabs><dl style="display: none">
                <dt>Linux</dt><dd tab-id="linux">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws comprehend start-entities-detection-job \
        --input-data-config S3Uri=s3://<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/data/,InputFormat=ONE_DOC_PER_FILE \
        --output-data-config S3Uri=s3://<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/ \
        --data-access-role-arn <code class="replaceable">role-arn</code> \
        --job-name data-entities-analysis \
        --language-code en \
        --region <code class="replaceable">aws-region</code></code></pre>
                    <p>Where:</p>
                    <div class="itemizedlist">
                       
                       
                       
                    <ul class="itemizedlist"><li class="listitem">
                        <p><code class="replaceable">DOC-EXAMPLE-BUCKET</code> is the name of your S3 bucket,</p>
                      </li><li class="listitem">
                        <p><code class="replaceable">role-arn</code> is the ARN you saved as
                            <code class="code">comprehend-role-arn</code>,</p>
                      </li><li class="listitem">
                        <p><code class="replaceable">aws-region</code> is your AWS region.</p>
                      </li></ul></div>
                  </dd>
                <dt>macOS</dt><dd tab-id="macos">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws comprehend start-entities-detection-job \
        --input-data-config S3Uri=s3://<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/data/,InputFormat=ONE_DOC_PER_FILE \
        --output-data-config S3Uri=s3://<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/ \
        --data-access-role-arn <code class="replaceable">role-arn</code> \
        --job-name data-entities-analysis \
        --language-code en \
        --region <code class="replaceable">aws-region</code></code></pre>
                    <p>Where:</p>
                    <div class="itemizedlist">
                       
                       
                       
                    <ul class="itemizedlist"><li class="listitem">
                        <p><code class="replaceable">DOC-EXAMPLE-BUCKET</code> is the name of your S3 bucket,</p>
                      </li><li class="listitem">
                        <p><code class="replaceable">role-arn</code> is the ARN you saved as
                            <code class="code">comprehend-role-arn</code>,</p>
                      </li><li class="listitem">
                        <p><code class="replaceable">aws-region</code> is your AWS region.</p>
                      </li></ul></div>
                  </dd>
                <dt>Windows</dt><dd tab-id="windows">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws comprehend start-entities-detection-job ^
        --input-data-config S3Uri=s3://<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/data/,InputFormat=ONE_DOC_PER_FILE ^
        --output-data-config S3Uri=s3://<code class="replaceable">DOC-EXAMPLE-BUCKET</code>/ ^
        --data-access-role-arn <code class="replaceable">role-arn</code> ^
        --job-name data-entities-analysis ^
        --language-code en ^
        --region <code class="replaceable">aws-region</code></code></pre>
                    <p>Where:</p>
                    <div class="itemizedlist">
                       
                       
                       
                    <ul class="itemizedlist"><li class="listitem">
                        <p><code class="replaceable">DOC-EXAMPLE-BUCKET</code> is the name of your S3 bucket,</p>
                      </li><li class="listitem">
                        <p><code class="replaceable">role-arn</code> is the ARN you saved as
                            <code class="code">comprehend-role-arn</code>,</p>
                      </li><li class="listitem">
                        <p><code class="replaceable">aws-region</code> is your AWS region.</p>
                      </li></ul></div>
                  </dd>
              </dl></awsdocs-tabs>
            </li><li>
              <p>Copy the entities analysis <code class="code">JobId</code> and save it in a text editor as
                  <code class="code">comprehend-job-id</code>. The <code class="code">JobId</code> helps you track the status
                of your entities analysis job.</p>
            </li><li>
              <p>To track the progress of your entities analysis job, use the <a href="https://awscli.amazonaws.com/v2/documentation/api/latest/reference/comprehend/describe-entities-detection-job.html" rel="noopener noreferrer" target="_blank"><span>describe-entities-detection-job</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> command:</p>
              <awsdocs-tabs><dl style="display: none">
                <dt>Linux</dt><dd tab-id="linux">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws comprehend describe-entities-detection-job \
        --job-id <code class="replaceable">entities-job-id</code> \
        --region <code class="replaceable">aws-region</code></code></pre>
                    <p>Where:</p>
                    <div class="itemizedlist">
                       
                       
                    <ul class="itemizedlist"><li class="listitem">
                        <p><code class="replaceable">entities-job-id</code> is your saved
                            <code class="code">comprehend-job-id</code>,</p>
                      </li><li class="listitem">
                        <p><code class="replaceable">aws-region</code> is your AWS region.</p>
                      </li></ul></div>
                  </dd>
                <dt>macOS</dt><dd tab-id="macos">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws comprehend describe-entities-detection-job \
        --job-id <code class="replaceable">entities-job-id</code> \
        --region <code class="replaceable">aws-region</code></code></pre>
                    <p>Where:</p>
                    <div class="itemizedlist">
                       
                       
                    <ul class="itemizedlist"><li class="listitem">
                        <p><code class="replaceable">entities-job-id</code> is your saved
                            <code class="code">comprehend-job-id</code>,</p>
                      </li><li class="listitem">
                        <p><code class="replaceable">aws-region</code> is your AWS region.</p>
                      </li></ul></div>
                  </dd>
                <dt>Windows</dt><dd tab-id="windows">
                    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws comprehend describe-entities-detection-job ^
        --job-id <code class="replaceable">entities-job-id</code> ^
        --region <code class="replaceable">aws-region</code></code></pre>
                    <p>Where:</p>
                    <div class="itemizedlist">
                       
                       
                    <ul class="itemizedlist"><li class="listitem">
                        <p><code class="replaceable">entities-job-id</code> is your saved
                            <code class="code">comprehend-job-id</code>,</p>
                      </li><li class="listitem">
                        <p><code class="replaceable">aws-region</code> is your AWS region.</p>
                      </li></ul></div>
                  </dd>
              </dl></awsdocs-tabs>
            </li></ol></div><p>It can take several minutes for the <code class="code">JobStatus</code> to change to
              <code class="code">COMPLETED</code>.</p></awsui-expandable-section></div>
      <p>At the end of this step, Amazon Comprehend stores the entity analysis results as a zipped
          <code>output.tar.gz</code> file inside an <code>output</code> folder
        within an auto-generated folder in your S3 bucket. Make sure that your analysis job status
        is complete before you move on to the next step.</p>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./tutorial-search-metadata-add-documents.html">Step 1: Adding documents</div><div id="next" class="next-link" accesskey="n" href="./tutorial-search-metadata-format-output.html">Step 3: Formatting the metadata</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Kendra&amp;topic_url=https://docs.aws.amazon.com/en_us/kendra/latest/dg/tutorial-search-metadata-entities-analysis.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>