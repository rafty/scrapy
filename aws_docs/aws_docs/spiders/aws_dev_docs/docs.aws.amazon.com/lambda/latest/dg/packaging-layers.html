<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Packaging your layer content - AWS Lambda</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="packaging-layers" /><meta name="default_state" content="packaging-layers" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/packaging-layers.html" /><meta name="description" content="Learn how to properly package a Lambda layer." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Lambda" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="" /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/packaging-layers.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/packaging-layers.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/packaging-layers.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/packaging-layers.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/packaging-layers.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/packaging-layers.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/packaging-layers.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/packaging-layers.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/packaging-layers.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/packaging-layers.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/packaging-layers.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/packaging-layers.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/packaging-layers.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/packaging-layers.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/packaging-layers.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/packaging-layers.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/packaging-layers.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/packaging-layers.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/packaging-layers.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/lambda/latest/dg/packaging-layers.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/lambda/latest/dg/packaging-layers.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/packaging-layers.html" hreflang="x-default" /><meta name="feedback-item" content="Lambda" /><meta name="this_doc_product" content="AWS Lambda" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'lambda'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Packaging your layer content" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Packaging your layer content - AWS Lambda</title><meta name="pdf" content="/pdfs/lambda/latest/dg/lambda-dg.pdf#packaging-layers" /><meta name="rss" content="lambda-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/packaging-layers.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/packaging-layers.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/packaging-layers.html" /><meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing,Lambda layers,Lambda layer versions,Adding Lambda layers,Packaging Lambda layers,how to package Lambda layers,Lambda layer paths" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Lambda",
        "item" : "https://docs.aws.amazon.com/lambda/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with Lambda layers",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/chapter-layers.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Packaging your layer content",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/chapter-layers.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/lambda/latest/dg/lambda-dg.pdf#packaging-layers" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/lambda/index.html">AWS Lambda</a><a href="welcome.html">Developer Guide</a></div><div id="page-toc-src"><a href="#packaging-layers-paths">Layer paths for each Lambda runtime</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="packaging-layers">Packaging your layer content</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>A Lambda layer is a .zip file archive that contains supplementary code or data.
  Layers usually contain library dependencies, a <a href="./runtimes-custom.html">custom runtime</a>,
  or configuration files. </p><p>This section explains how to properly package your layer content. For more
    conceptual information about layers and why you might consider using them, see
    <a href="./chapter-layers.html">Working with Lambda layers</a>.</p><p>The first step to creating a layer is to bundle all of your layer content
    into a .zip file archive. Because Lambda functions run on
    <a href="./lambda-runtimes.html">Amazon Linux</a>, your layer content must be
    able to compile and build in a Linux environment. If you build packages on your
    local Windows or Mac machine, you’ll get output binaries for that operating
    system by default. These binaries may not work properly when you upload them
    to Lambda.</p><p>To ensure that your layer content works properly in a Linux environment,
    we recommend creating your layer content using
    <a href="https://aws.amazon.com/cloud9/" rel="noopener noreferrer" target="_blank"><span>AWS Cloud9</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. AWS Cloud9 is a cloud-based
    integrated development environment (IDE) that provides built-in access to a
    Linux server for running and testing code. For more information, see
    <a href="https://aws.amazon.com/blogs/compute/using-lambda-layers-to-simplify-your-development-process/" rel="noopener noreferrer" target="_blank"><span>
    Using Lambda layers to simplify your development process</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> on the AWS
    Compute Blog.</p><div class="highlights" id="inline-topiclist"><h6>Topics</h6><ul><li><a href="#packaging-layers-paths">Layer paths for each Lambda runtime</a></li></ul></div>
    <h2 id="packaging-layers-paths">Layer paths for each Lambda runtime</h2>
    <p>When you add a layer to a function, Lambda loads the layer content into the
      <code class="code">/opt</code> directory of that execution environment. For each Lambda runtime,
      the <code class="code">PATH</code> variable already includes specific folder paths within the
      <code class="code">/opt</code> directory. To ensure that your layer content gets picked up by
      the <code class="code">PATH</code> variable, include the content in the following folder paths:</p>
    <div class="table-container"><div class="table-contents"><table id="w917aad101c27c13b5"><thead><tr><th class="table-header" colspan="100"><div class="title">Layer paths for each Lambda runtime</div></th></tr>
          <tr>
            <th>Runtime</th>
            <th>Path</th>
          </tr>
        </thead>
          <tr>
            <td rowspan="4" tabindex="-1">
              <p>Node.js</p>
            </td>
            <td tabindex="-1">
              <p><code class="code">nodejs/node_modules</code></p>
            </td>
          </tr>
          <tr>
            <td tabindex="-1">
              <p><code class="code">nodejs/node14/node_modules</code> (<code class="code">NODE_PATH</code>)</p>
            </td>
          </tr>
          <tr>
            <td tabindex="-1">
              <p><code class="code">nodejs/node16/node_modules</code> (<code class="code">NODE_PATH</code>)</p>
            </td>
          </tr>
          <tr>
            <td tabindex="-1">
              <p><code class="code">nodejs/node18/node_modules</code> (<code class="code">NODE_PATH</code>)</p>
            </td>
          </tr>
          <tr>
            <td rowspan="2" tabindex="-1">
              <p>Python</p>
            </td>
            <td tabindex="-1">
              <p><code class="code">python</code></p>
            </td>
          </tr>
          <tr>
            <td tabindex="-1">
              <p><code class="code">python/lib/python3.x/site-packages</code> (site directories)</p>
            </td>
          </tr>
          <tr>
            <td tabindex="-1">
              <p>Java</p>
            </td>
            <td tabindex="-1">
              <p><code class="code">java/lib</code> (<code class="code">CLASSPATH</code>)</p>
            </td>
          </tr>
          <tr>
            <td rowspan="2" tabindex="-1">
              <p>Ruby</p>
            </td>
            <td tabindex="-1">
              <p><code class="code">ruby/gems/2.7.0</code> (<code class="code">GEM_PATH</code>)</p>
            </td>
          </tr>
          <tr>
            <td tabindex="-1">
              <p><code class="code">ruby/lib</code> (<code class="code">RUBYLIB</code>)</p>
            </td>
          </tr>
          <tr>
            <td rowspan="2" tabindex="-1">
              <p>All runtimes</p>
            </td>
            <td tabindex="-1">
              <p><code class="code">bin</code> (<code class="code">PATH</code>)  </p>
            </td>
          </tr>
          <tr>
            <td tabindex="-1">
              <p><code class="code">lib</code> (<code class="code">LD_LIBRARY_PATH</code>)</p>
            </td>
          </tr>
        </table></div></div>
    <p>The following examples show how you can structure the folders in your layer .zip archive.</p>
    <awsdocs-tabs><dl style="display: none">
      <dt>Node.js</dt><dd tab-id="node.js">
          <div class="example"><h6>Example file structure for the AWS X-Ray SDK for Node.js</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">xray-sdk.zip
└ nodejs/node_modules/aws-xray-sdk</code></pre></div></div>
        </dd>
      <dt>Python</dt><dd tab-id="python">
          <div class="example"><h6>Example file structure for the Pillow library</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">pillow.zip
│ python/PIL
└ python/Pillow-5.3.0.dist-info</code></pre></div></div>
        </dd>
      <dt>Ruby</dt><dd tab-id="ruby">
          <div class="example"><h6>Example file structure for the JSON gem</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">json.zip
└ ruby/gems/2.7.0/
               | build_info
               | cache
               | doc
               | extensions
               | gems
               | └ json-2.1.0
               └ specifications
                 └ json-2.1.0.gemspec</code></pre></div></div>
        </dd>
      <dt>Java</dt><dd tab-id="java">
          <div class="example"><h6>Example file structure for the Jackson JAR file</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">jackson.zip
└ java/lib/jackson-core-2.2.3.jar</code></pre></div></div>
        </dd>
      <dt>All</dt><dd tab-id="all">
          <div class="example"><h6>Example file structure for the jq library</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">jq.zip
└ bin/jq</code></pre></div></div>
        </dd>
    </dl></awsdocs-tabs>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./chapter-layers.html">Lambda layers</div><div id="next" class="next-link" accesskey="n" href="./creating-deleting-layers.html">Creating and deleting layers</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/packaging-layers.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/packaging-layers.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>