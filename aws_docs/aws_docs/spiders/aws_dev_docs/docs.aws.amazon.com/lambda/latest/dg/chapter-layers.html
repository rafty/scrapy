<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Working with Lambda layers - AWS Lambda</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="chapter-layers" /><meta name="default_state" content="chapter-layers" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/chapter-layers.html" /><meta name="description" content="This section describes how to use AWS layers to separate your application code from its dependencies." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Lambda" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="" /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/chapter-layers.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/chapter-layers.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/chapter-layers.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/chapter-layers.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/chapter-layers.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/chapter-layers.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/chapter-layers.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/chapter-layers.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/chapter-layers.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/chapter-layers.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/chapter-layers.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/chapter-layers.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/chapter-layers.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/chapter-layers.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/chapter-layers.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/chapter-layers.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/chapter-layers.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/chapter-layers.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/chapter-layers.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/lambda/latest/dg/chapter-layers.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/lambda/latest/dg/chapter-layers.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/chapter-layers.html" hreflang="x-default" /><meta name="feedback-item" content="Lambda" /><meta name="this_doc_product" content="AWS Lambda" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'lambda'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Working with Lambda layers" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Working with Lambda layers - AWS Lambda</title><meta name="pdf" content="/pdfs/lambda/latest/dg/lambda-dg.pdf#chapter-layers" /><meta name="rss" content="lambda-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/chapter-layers.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/chapter-layers.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/chapter-layers.html" /><meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing,Lambda layers,Lambda layer versions,Adding Lambda layers" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Lambda",
        "item" : "https://docs.aws.amazon.com/lambda/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Working with Lambda layers",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/chapter-layers.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/lambda/latest/dg/lambda-dg.pdf#chapter-layers" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/lambda/index.html">AWS Lambda</a><a href="welcome.html">Developer Guide</a></div><div id="page-toc-src"><a href="#lambda-layers-overview">How to use layers</a><a href="#lambda-layer-versions">Layers and layer versions</a><a href="#layers-sample-apps">Sample applications</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="chapter-layers">Working with Lambda layers</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>A Lambda layer is a .zip file archive that contains supplementary code or data.
  Layers usually contain library dependencies, a <a href="./runtimes-custom.html">custom runtime</a>,
  or configuration files. </p><p>There are multiple reasons why you might consider using layers:</p><div class="itemizedlist">
     
     
     
     
  <ul class="itemizedlist"><li class="listitem">
      <p><b>To reduce the size of your deployment packages.</b>
        Instead of including all of your function dependencies along with your function code
        in your deployment package, put them in a layer. This keeps deployment packages small
        and organized.</p>
    </li><li class="listitem">
      <p><b>To separate core function logic from dependencies.</b>
        With layers, you can update your function dependencies independent of your function code,
        and vice versa. This promotes separation of concerns and helps you focus on your function
        logic.</p>
    </li><li class="listitem">
      <p><b>To share dependencies across multiple functions.</b>
        After you create a layer, you can apply it to any number of functions in your account.
        Without layers, you need to include the same dependencies in each individual deployment
        package.</p>
    </li><li class="listitem">
      <p><b>To use the Lambda console code editor.</b> The code
        editor is a useful tool for testing minor function code updates quickly. However, you
        can’t use the editor if your deployment package size is too large. Using layers reduces
        your package size and can unlock usage of the code editor.</p>
    </li></ul></div><p>The following diagram illustrates the high-level architectural differences between two
    functions that share dependencies. One uses Lambda layers, and the other does not.</p><div class="mediaobject">
     
      <img src="/images/lambda/latest/dg/images/lambda-layers-diagram.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      Architectural differences between two Lambda functions that don't use layers, and two&#xA;        functions that share a layer.&#xA;    " style="max-width:100%" />
     
     
  </div><p>When you add a layer to a function, Lambda extracts the layer contents into the <code class="code">/opt</code>
    directory in your function’s <a href="./lambda-runtime-environment.html">execution environment</a>.
    All natively supported Lambda runtimes include paths to specific directories within the
    <code class="code">/opt</code> directory. This gives your function access to your layer content. For more
    information about these specific paths and how to properly package your layers, see
    <a href="./packaging-layers.html">Packaging your layer content</a>.</p><p>You can include up to five layers per function. Also, you can use layers only with Lambda functions
    <a href="./gettingstarted-package.html#gettingstarted-package-zip">deployed as a .zip file archive</a>. For functions
    <a href="./images-create.html">defined as a container image</a>, package your preferred runtime
    and all code dependencies when you create the container image. For more information, see
    <a href="http://aws.amazon.com/blogs/compute/working-with-lambda-layers-and-extensions-in-container-images/" rel="noopener noreferrer" target="_blank"><span>
    Working with Lambda layers and extensions in container images</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> on the AWS Compute Blog.</p><div class="highlights"><h6>Topics</h6><ul><li><a href="#lambda-layers-overview">How to use layers</a></li><li><a href="#lambda-layer-versions">Layers and layer versions</a></li><li><a href="#layers-sample-apps">Sample applications</a></li><li><a href="./packaging-layers.html">Packaging your layer content</a></li><li><a href="./creating-deleting-layers.html">Creating and deleting layers in Lambda</a></li><li><a href="./adding-layers.html">Adding layers to functions</a></li><li><a href="./layers-cfn.html">Using AWS CloudFormation with layers</a></li><li><a href="./layers-sam.html">Using AWS SAM with layers</a></li></ul></div>
    <h2 id="lambda-layers-overview">How to use layers</h2>
    <p>To create a layer, package your dependencies into a .zip file, similar to how you
      <a href="./configuration-function-zip.html">create a normal deployment package</a>. More
      specifically, the general process of creating and using layers involves these three steps:</p>
    <div class="itemizedlist">
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p><b>First, package your layer content.</b> This means creating a
          .zip file archive. For more information, see <a href="./packaging-layers.html">Packaging your layer content</a>.</p>
      </li><li class="listitem">
        <p><b>Next, create the layer in Lambda.</b> For more information,
          see <a href="./creating-deleting-layers.html">Creating and deleting layers in Lambda</a>.</p>
      </li><li class="listitem">
        <p><b>Add the layer to your function(s).</b> For more information,
          see <a href="./adding-layers.html">Adding layers to functions</a>.</p>
      </li></ul></div>
   
    <h2 id="lambda-layer-versions">Layers and layer versions</h2>
    <p>A layer version is an immutable snapshot of a specific version of a layer. When you create
      a new layer, Lambda creates a new layer version with a version number of 1. Each time you publish
      an update to the layer, Lambda increments the version number and creates a new layer version.</p>
    <p>Every layer version is identified by a unique Amazon Resource Name (ARN). When adding a layer
      to the function, you must specify the exact layer version you want to use.</p>
   
    <h2 id="layers-sample-apps">Sample applications</h2>
    <p>The GitHub repository for this guide provides blank sample applications that demonstrate
      the use of layers for dependency management.</p>
    <div class="itemizedlist">
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p><b>Node.js</b> –
          <a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/blank-nodejs" rel="noopener noreferrer" target="_blank"><span>
            blank-nodejs</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
      </li><li class="listitem">
        <p><b>Python</b> –
          <a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/blank-python" rel="noopener noreferrer" target="_blank"><span>
            blank-python</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
      </li><li class="listitem">
        <p><b>Java</b> –
          <a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/blank-java" rel="noopener noreferrer" target="_blank"><span>
            blank-java</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
      </li><li class="listitem">
        <p><b>Ruby</b> –
          <a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/blank-ruby" rel="noopener noreferrer" target="_blank"><span>
            blank-ruby</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
      </li></ul></div>
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./monitoring-servicemap.html">Example workflows</div><div id="next" class="next-link" accesskey="n" href="./packaging-layers.html">Packaging layers</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/chapter-layers.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/chapter-layers.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>