<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Building Lambda functions with Ruby - AWS Lambda</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="lambda-ruby" /><meta name="default_state" content="lambda-ruby" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-ruby.html" /><meta name="description" content="You can run Ruby code in AWS Lambda. Lambda provides runtimes for Ruby that run your code to process events. Your code runs in an environment that includes the AWS SDK for Ruby, with credentials from an AWS Identity and Access Management (IAM) role that you manage." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Lambda" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="" /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-ruby.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/lambda-ruby.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/lambda-ruby.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/lambda-ruby.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/lambda-ruby.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-ruby.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-ruby.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/lambda-ruby.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/lambda-ruby.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/lambda-ruby.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/lambda-ruby.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/lambda-ruby.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/lambda-ruby.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/lambda-ruby.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/lambda-ruby.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/lambda-ruby.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/lambda-ruby.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/lambda-ruby.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/lambda-ruby.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/lambda/latest/dg/lambda-ruby.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/lambda/latest/dg/lambda-ruby.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-ruby.html" hreflang="x-default" /><meta name="feedback-item" content="Lambda" /><meta name="this_doc_product" content="AWS Lambda" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'lambda'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Building Lambda functions with Ruby" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Building Lambda functions with Ruby - AWS Lambda</title><meta name="pdf" content="/pdfs/lambda/latest/dg/lambda-dg.pdf#lambda-ruby" /><meta name="rss" content="lambda-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/lambda-ruby.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/lambda-ruby.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/lambda-ruby.html" /><meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Lambda",
        "item" : "https://docs.aws.amazon.com/lambda/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Building Lambda functions with Ruby",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/lambda-ruby.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/lambda/latest/dg/lambda-dg.pdf#lambda-ruby" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/lambda/index.html">AWS Lambda</a><a href="welcome.html">Developer Guide</a></div><div id="page-toc-src"><a href="#ruby-yjit">Enabling Yet Another Ruby JIT (YJIT)</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="lambda-ruby">Building Lambda functions with Ruby</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>You can run Ruby code in AWS Lambda. Lambda provides <a href="./lambda-runtimes.html">runtimes</a> for Ruby that run your code to process events. Your code runs
    in an environment that includes the AWS SDK for Ruby, with credentials from an AWS Identity and Access Management (IAM) role that you manage.</p><p>Lambda supports the following Ruby runtimes.</p><div class="table-container"><div class="table-contents"><table id="w917aac57c11"><thead><tr><th class="table-header" colspan="100"><div class="title">Ruby</div></th></tr>
      <tr>
        <th>Name</th>
        <th>Identifier</th>
        <th>SDK</th>
        <th>Operating system</th>
        <th>Architectures</th>
        <th>Deprecation (Phase 1)</th>
      </tr>
    </thead>
      <tr>
        <td tabindex="-1">
          <p>Ruby 3.2</p>
        </td>
        <td tabindex="-1">
          <p><code class="code">ruby3.2</code></p>
        </td>
<td tabindex="-1">
          <p>3.1.0</p>
        </td>
        <td tabindex="-1">
          <p>Amazon Linux 2</p>
        </td>
        <td tabindex="-1">
          <p>x86_64, arm64</p>
        </td>

        <td tabindex="-1">
          <p></p>
        </td>

      </tr>
      <tr>
        <td tabindex="-1">
          <p>Ruby 2.7</p>
        </td>
        <td tabindex="-1">
          <p><code class="code">ruby2.7</code></p>
        </td>
<td tabindex="-1">
          <p>3.1.0</p>
        </td>
        <td tabindex="-1">
          <p>Amazon Linux 2</p>
        </td>
        <td tabindex="-1">
          <p>x86_64, arm64</p>
        </td>

        <td tabindex="-1">
          <p>Dec 7, 2023</p>
        </td>

      </tr>
    </table></div></div><div class="procedure"><h6>To create a Ruby function</h6><ol><li>
      <p>Open the <a href="https://console.aws.amazon.com/lambda" rel="noopener noreferrer" target="_blank"><span>Lambda console</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
    </li><li>
      <p>Choose <b>Create function</b>.</p>
    </li><li>
      <p>Configure the following settings:</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p><b>Function name</b>: Enter a name for the function.</p>
        </li><li class="listitem">
          <p><b>Runtime</b>: Choose <b>Ruby 3.2</b>.</p>
        </li></ul></div>
    </li><li>
      <p>Choose <b>Create function</b>.</p>
    </li><li>
      <p>To configure a test event, choose <b>Test</b>.</p>
    </li><li>
      <p>For <b>Event name</b>, enter <code class="userinput">test</code>.</p>
    </li><li>
      <p>Choose <b>Save changes</b>.</p>
    </li><li>
      <p>To invoke the function, choose <b>Test</b>.</p>
    </li></ol></div><p>The console creates a Lambda function with a single source file named <code class="code">lambda_function.rb</code>. You can edit
    this file and add more files in the built-in <a href="./foundation-console.html#code-editor">code editor</a>. To save your changes, choose <b>Save</b>.
    Then, to run your code, choose <b>Test</b>.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The Lambda console uses AWS Cloud9 to provide an integrated development environment in the browser. You can also
      use AWS Cloud9 to develop Lambda functions in your own environment. For more information, see <a href="https://docs.aws.amazon.com/cloud9/latest/user-guide/lambda-toolkit.html">Working with AWS Lambda functions using the AWS Toolkit</a> in the AWS Cloud9 user guide.</p></div></div><p>The <code class="code">lambda_function.rb</code> file exports a function named <code class="code">lambda_handler</code> that takes an event object and a
    context object. This is the <a href="./ruby-handler.html">handler function</a> that Lambda calls when the
    function is invoked. The Ruby function runtime gets invocation events from Lambda and passes them to the
    handler. In the function configuration, the handler value is <code class="code">lambda_function.lambda_handler</code>.</p><p>When you save your function code, the Lambda console creates a .zip file archive deployment package. 
   When you develop your function code outside of the console (using an IDE) you need to <a href="./ruby-package.html">create a
      deployment package</a> to upload your code to the Lambda function.</p><div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>To get started with application development in your local environment, deploy one of the sample
      applications available in this guide's GitHub repository.</p><div class="itemizedlist">
  <h6>Sample Lambda applications in Ruby</h6>
   
   
<ul class="itemizedlist"><li class="listitem">
    <p><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/blank-ruby" rel="noopener noreferrer" target="_blank"><span>blank-ruby</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> – A Ruby function that
      shows the use of logging, environment variables, AWS X-Ray tracing, layers, unit tests and the AWS SDK.</p>
  </li><li class="listitem"><p><a href="https://docs.aws.amazon.com/code-samples/latest/catalog/code-catalog-ruby-example_code-lambda.html">Ruby Code Samples for AWS Lambda</a> – Code samples written in Ruby that demonstrate how to interact with AWS Lambda.</p></li></ul></div></div></div><p>The function runtime passes a context object to the handler, in addition to the invocation event. The <a href="./ruby-context.html">context object</a> contains additional information about the invocation, the
    function, and the execution environment. More information is available from environment variables.</p><p>Your Lambda function comes with a CloudWatch Logs log group. The function runtime sends details about each invocation to
    CloudWatch Logs. It relays any <a href="./ruby-logging.html">logs that your function outputs</a> during invocation. If
    your function <a href="./ruby-exceptions.html">returns an error</a>, Lambda formats the error and returns it to the
    invoker.</p>
 <h2 id="ruby-yjit">Enabling Yet Another Ruby JIT (YJIT)</h2>
    <p>The Ruby 3.2 runtime supports <a href="https://github.com/ruby/ruby/blob/master/doc/yjit/yjit.md" rel="noopener noreferrer" target="_blank"><span>YJIT</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, a lightweight, minimalistic Ruby JIT compiler. YJIT provides significantly higher performance, but also uses more memory than the Ruby interpreter. YJIT is recommended for Ruby on Rails workloads.</p>
    <p>YJIT is not enabled by default. To enable YJIT for a Ruby 3.2 function, set the <code class="code">RUBY_YJIT_ENABLE</code> environment variable to <code class="code">1</code>. To confirm that YJIT is enabled, print the result of the <code class="code">RubyVM::YJIT.enabled?</code> method.</p>
    <div class="example"><h6>Example — Confirm that YJIT is enabled</h6><div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">puts(RubyVM::YJIT.enabled?())
# =&gt; true</code></pre></div></div>
  <div class="highlights"><h6>Topics</h6><ul><li><a href="./ruby-handler.html">AWS Lambda function handler in Ruby</a></li><li><a href="./ruby-package.html">Working with .zip file archives for Ruby Lambda functions</a></li><li><a href="./ruby-image.html">Deploy Ruby Lambda functions with container images</a></li><li><a href="./ruby-context.html">AWS Lambda context object in Ruby</a></li><li><a href="./ruby-logging.html">AWS Lambda function logging in Ruby</a></li><li><a href="./ruby-exceptions.html">AWS Lambda function errors in Ruby</a></li><li><a href="./ruby-tracing.html">Instrumenting Ruby code in AWS Lambda</a></li></ul></div><awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./python-tracing.html">Tracing</div><div id="next" class="next-link" accesskey="n" href="./ruby-handler.html">Handler</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/lambda-ruby.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/lambda-ruby.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>