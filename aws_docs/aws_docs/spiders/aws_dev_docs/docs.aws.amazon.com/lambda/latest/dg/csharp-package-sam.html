<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Using the AWS Serverless Application Model (AWS SAM) - AWS Lambda</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="csharp-package-sam" /><meta name="default_state" content="csharp-package-sam" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/csharp-package-sam.html" /><meta name="description" content="Learn how to download, build, and deploy a sample Hellow World .NET application using AWS SAM." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Lambda" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="" /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/csharp-package-sam.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/csharp-package-sam.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/csharp-package-sam.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/csharp-package-sam.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/csharp-package-sam.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/csharp-package-sam.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/csharp-package-sam.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/csharp-package-sam.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/csharp-package-sam.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/csharp-package-sam.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/csharp-package-sam.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/csharp-package-sam.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/csharp-package-sam.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/csharp-package-sam.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/csharp-package-sam.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/csharp-package-sam.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/csharp-package-sam.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/csharp-package-sam.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/csharp-package-sam.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/lambda/latest/dg/csharp-package-sam.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/lambda/latest/dg/csharp-package-sam.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/csharp-package-sam.html" hreflang="x-default" /><meta name="feedback-item" content="Lambda" /><meta name="this_doc_product" content="AWS Lambda" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'lambda'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Using the AWS Serverless Application Model (AWS SAM)" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Using the AWS Serverless Application Model (AWS SAM) - AWS Lambda</title><meta name="pdf" content="/pdfs/lambda/latest/dg/lambda-dg.pdf#csharp-package-sam" /><meta name="rss" content="lambda-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/csharp-package-sam.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/csharp-package-sam.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/csharp-package-sam.html" /><meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing,.zip,deploy,deployment package,C#,.NET,Lambda layers with .NET,Lambda layers with C#,dotnet,AWS SAM" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Lambda",
        "item" : "https://docs.aws.amazon.com/lambda/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Building Lambda functions with C#",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/lambda-csharp.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Build and deploy C# Lambda functions with .zip file archives",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/csharp-package.html"
      },
      {
        "@type" : "ListItem",
        "position" : 6,
        "name" : "Using the AWS Serverless Application Model (AWS SAM)",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/csharp-package.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/lambda/latest/dg/lambda-dg.pdf#csharp-package-sam" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/lambda/index.html">AWS Lambda</a><a href="welcome.html">Developer Guide</a></div><div id="page-toc-src"><a href="#csharp-package-sam-prerequisites">Prerequisites</a><a href="#csharp-package-sam-deploy">Deploy a sample AWS SAM application</a><a href="#csharp-package-sam-next">Next steps</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="csharp-package-sam">Using the AWS Serverless Application Model (AWS SAM)</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The AWS Serverless Application Model (AWS SAM) is a toolkit that helps streamline the process of building and running serverless applications on AWS. You define 
      the resources for your application in a YAML or JSON template and use the AWS SAM command line interface (AWS SAM CLI) to build, package, and 
      deploy your applications. When you build a Lambda function from an AWS SAM template, AWS SAM automatically creates a .zip deployment package or 
      container image with your function code and any dependencies you specify. AWS SAM then deploys your function using an <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacks.html">AWS CloudFormation stack</a>. 
      To learn more about using AWS SAM to build and deploy Lambda functions, see <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-getting-started.html">Getting started with AWS SAM</a> 
      in the <em>AWS Serverless Application Model Developer Guide</em>.</p><p>The following steps show you how to download, build, and deploy a sample .NET Hello World application using AWS SAM. 
    This sample application uses a Lambda function and an Amazon API Gateway endpoint to implement a basic API backend. When you send an HTTP GET request to 
    your API Gateway endpoint, API Gateway invokes your Lambda function. The function returns a "hello world" message, along with the IP address of the Lambda 
    function instance that processes your request.</p><p>When you build and deploy your application using AWS SAM, behind the scenes the AWS SAM CLI uses the <code class="code">dotnet lambda package</code> command
    to package the individual Lambda function code bundles.</p>
      <h2 id="csharp-package-sam-prerequisites">Prerequisites</h2>
      <div class="variablelist">
         
         
      <dl>
          <dt><b><span class="term">.NET 6 SDK</span></b></dt>
          <dd>
            <p>Install the <a href="https://dotnet.microsoft.com/en-us/download/dotnet/6.0" rel="noopener noreferrer" target="_blank"><span>.NET 6</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> SDK and 
              Runtime.</p>
          </dd>
        
          <dt><b><span class="term">AWS SAM CLI version 1.39 or later</span></b></dt>
          <dd>
            <p>To learn how to install the latest version of the AWS SAM CLI, see 
              <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/install-sam-cli.html">Installing the AWS SAM CLI</a>.</p>
          </dd>
        </dl></div>
     
      <h2 id="csharp-package-sam-deploy">Deploy a sample AWS SAM application</h2>
      <div class="procedure"><ol><li>
          <p>Initialize the application using the Hello world .NET template using the following command.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">sam init --app-template hello-world --name sam-app \
--package-type Zip --runtime dotnet6</code></code></pre>
          <p>This command creates the following files and directories in your project directory.</p>
          <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">└── sam-app
    ├── README.md
    ├── events
    │   └── event.json
    ├── omnisharp.json
    ├── samconfig.toml
    ├── src
    │   └── HelloWorld
    │       ├── Function.cs
    │       ├── HelloWorld.csproj
    │       └── aws-lambda-tools-defaults.json
    ├── template.yaml
    └── test
        └── HelloWorld.Test
            ├── FunctionTest.cs
            └── HelloWorld.Tests.csproj</code></pre>
        </li><li>
          <p>Navigate into the directory containing the <code>template.yaml file</code>. This file is a tempate that defines the 
          AWS resources for your application, including your Lambda function and an API Gateway API.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">cd sam-app</code></code></pre>
        </li><li>
          <p>To build the source of your application, run the following command.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">sam build</code></code></pre>
        </li><li>
          <p>To deploy your application to AWS, run the following command.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">sam deploy --guided</code></code></pre>
          <p>This command packages and deploys your application with the following series of prompts. To accept the default options, 
          press Enter.</p>
          <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>For <b>HelloWorldFunction may not have authorization defined, is this okay?</b>, be sure to enter 
              <code class="code">y</code>.</p></div></div>
          <div class="itemizedlist">
             
             
             
             
             
             
             
          <ul class="itemizedlist"><li class="listitem">
              <p><b>Stack Name</b>: The name of the stack to deploy to AWS CloudFormation. This name must be unique to your 
              AWS account and AWS Region.</p>
            </li><li class="listitem">
              <p><b>AWS Region</b>: The AWS Region you want to deploy your app to.</p>
            </li><li class="listitem">
              <p><b>Confirm changes before deploy</b>: Select yes to manually review any change sets before 
              AWS SAM deploys application changes. If you select no, the AWS SAM CLI automatically deploys application changes.</p>
            </li><li class="listitem">
              <p><b>Allow SAM CLI IAM role creation</b>: Many AWS SAM templates, including the Hello world one in this 
              example, create AWS Identity and Access Management (IAM) roles to give your Lambda functions permission to access other AWS services. Select Yes to provide 
              permission to deploy a AWS CloudFormation stack that creates or modifies IAM roles.</p>
            </li><li class="listitem">
              <p><b>Disable rollback</b>: By default, if AWS SAM encounters an error during creation or deployment 
              of your stack, it rolls the stack back to the previous version. Select No to accept this default.</p>
            </li><li class="listitem">
              <p><b>HelloWorldFunction may not have authorization defined, is this okay</b>: Enter <code class="code">y</code>.</p>
            </li><li class="listitem">
             <p><b>Save arguments to samconfig.toml</b>: Select yes to save your configuration choices. In the future, 
             you can re-run <code class="code">sam deploy</code> without parameters to deploy changes to your application.</p>
            </li></ul></div>
        </li><li>
          <p>When the deployment of your application is complete, the CLI returns the Amazon Resource Name (ARN) of the Hello World Lambda 
          function and the IAM role created for it. It also displays the endpoint of your API Gateway API. To test your application, open the 
          endpoint in a browser. You should see a response similar to the following.</p>
          <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight"><span>{</span>"message":"hello world","location":"34.244.135.203"}</code></pre>
        </li><li>
          <p>To delete your resources, run the following command. Note that the API endpoint you created is a public endpoint accessible over the 
          internet. We recommend that you delete this endpoint after testing.</p>
          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">sam delete</code></code></pre>
        </li></ol></div>
     
      <h2 id="csharp-package-sam-next">Next steps</h2>
      <p>To learn more about using AWS SAM to build and deploy Lambda functions using .NET, see the following resources:</p>
      <div class="itemizedlist">
         
         
      <ul class="itemizedlist"><li class="listitem">
          <p>The <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/what-is-sam.html"><em>AWS Serverless Application Model (AWS SAM) Developer Guide</em></a></p>
        </li><li class="listitem">
          <p><a href="http://aws.amazon.com/blogs/dotnet/building-serverless-net-applications-with-aws-lambda-and-the-sam-cli/" rel="noopener noreferrer" target="_blank"><span>Building Serverless .NET Applications with AWS Lambda and the SAM CLI</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
        </li></ul></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./csharp-package-cli.html">Using the .NET Lambda Global CLI</div><div id="next" class="next-link" accesskey="n" href="./csharp-package-cdk.html">Using the AWS Cloud Development Kit (AWS CDK)</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/csharp-package-sam.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/csharp-package-sam.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>