<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Deploy transpiled TypeScript code in Lambda with .zip file archives - AWS Lambda</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="typescript-package" /><meta name="default_state" content="typescript-package" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/typescript-package.html" /><meta name="description" content="Before you can deploy TypeScript code to AWS Lambda, you need to transpile it into JavaScript. This page explains three ways to build and deploy TypeScript code to Lambda with .zip file archives:" /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Lambda" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="" /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/typescript-package.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/typescript-package.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/typescript-package.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/typescript-package.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/typescript-package.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/typescript-package.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/typescript-package.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/typescript-package.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/typescript-package.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/typescript-package.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/typescript-package.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/typescript-package.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/typescript-package.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/typescript-package.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/typescript-package.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/typescript-package.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/typescript-package.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/typescript-package.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/typescript-package.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/lambda/latest/dg/typescript-package.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/lambda/latest/dg/typescript-package.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/typescript-package.html" hreflang="x-default" /><meta name="feedback-item" content="Lambda" /><meta name="this_doc_product" content="AWS Lambda" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'lambda'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Deploy transpiled TypeScript code in Lambda with .zip file archives" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Deploy transpiled TypeScript code in Lambda with .zip file archives - AWS Lambda</title><meta name="pdf" content="/pdfs/lambda/latest/dg/lambda-dg.pdf#typescript-package" /><meta name="rss" content="lambda-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/typescript-package.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/typescript-package.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/typescript-package.html" /><meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing,TypeScript function,TypeScript Lambda,TypeScript define function,TypeScript Lambda function,Lambda typescript package,typescript zip,Lambda typescript deployment" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Lambda",
        "item" : "https://docs.aws.amazon.com/lambda/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Building Lambda functions with TypeScript",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/lambda-typescript.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Deploy transpiled TypeScript code in Lambda with .zip file archives",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/lambda-typescript.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/lambda/latest/dg/lambda-dg.pdf#typescript-package" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/lambda/index.html">AWS Lambda</a><a href="welcome.html">Developer Guide</a></div><div id="page-toc-src"><a href="#aws-sam-ts">Using AWS SAM</a><a href="#aws-cdk-ts">Using the AWS CDK</a><a href="#aws-cli-ts">Using the AWS CLI and esbuild</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="typescript-package">Deploy transpiled TypeScript code in Lambda with .zip file archives</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>Before you can deploy TypeScript code to AWS Lambda, you need to transpile it into JavaScript. This page explains three ways to build and deploy TypeScript code to Lambda with .zip file archives:</p><div class="itemizedlist">
   
   
   
<ul class="itemizedlist"><li class="listitem">
    <p><a href="#aws-sam-ts">Using AWS Serverless Application Model (AWS SAM)</a></p>
  </li><li class="listitem">
    <p><a href="#aws-cdk-ts">Using the AWS Cloud Development Kit (AWS CDK)</a></p>
  </li><li class="listitem">
    <p><a href="#aws-cli-ts">Using the AWS Command Line Interface (AWS CLI) and esbuild</a></p>
  </li></ul></div><p>AWS SAM and AWS CDK simplify building and deploying TypeScript functions. The <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-specification.html">AWS SAM template specification</a> provides a simple and clean syntax to describe the Lambda functions, APIs, permissions, configurations, and events that make up your serverless application. The <a href="https://docs.aws.amazon.com/cdk/v2/guide/home.html">AWS CDK</a> lets you build reliable, scalable, cost-effective applications in the cloud with the considerable expressive power of a programming language. The AWS CDK is intended for moderately to highly experienced AWS users. Both the AWS CDK and the AWS SAM use esbuild to transpile TypeScript code into JavaScript.</p>
    <h2 id="aws-sam-ts">Using AWS SAM to deploy TypeScript code to Lambda</h2>
    <p>Follow the steps below to download, build, and deploy a sample Hello World TypeScript application using the AWS SAM. This application implements a basic API backend. It consists of an Amazon API Gateway endpoint and a Lambda function. When you send a GET request to the API Gateway endpoint, the Lambda function is invoked. The function returns a <code class="code">hello world</code> message.</p>
    <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>AWS SAM uses esbuild to create Node.js Lambda functions from TypeScript code. esbuild support is currently in public preview. During public preview, esbuild support may be subject to backwards incompatible changes.</p></div></div>
    <div class="itemizedlist">
      <h6>Prerequisites</h6>
      <p>To complete the steps in this section, you must have the following:</p>
       
       
       
    <ul class="itemizedlist"><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">AWS CLI version 2</a></p>
      </li><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-install.html">AWS SAM CLI version 1.75 or later</a></p>
      </li><li class="listitem">
          <p>Node.js 18.x</p>
      </li></ul></div>
    <div class="procedure"><h6>Deploy a sample AWS SAM application</h6><ol><li>
        <p>Initialize the application using the Hello World TypeScript template.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">sam init --app-template hello-world-typescript --name sam-app --package-type Zip --runtime nodejs18.x</code></code></pre>
      </li><li>
        <p>(Optional) The sample application includes configurations for commonly used tools, such as <a href="https://eslint.org/" rel="noopener noreferrer" target="_blank"><span>ESLlint</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> for code linting and <a href="https://jestjs.io/" rel="noopener noreferrer" target="_blank"><span>Jest</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> for unit testing. To run lint and test commands:</p>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">cd sam-app/hello-world
npm install
npm run lint
npm run test</code></pre>
      </li><li>
        <p>Build the app.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">cd sam-app
sam build</code></pre>
      </li><li>
        <p>Deploy the app.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">sam deploy --guided</code></pre>
      </li><li>
        <p>Follow the on-screen prompts. To accept the default options provided in the interactive experience, respond with <code class="code">Enter</code>.</p>
      </li><li>
        <p>The output shows the endpoint for the REST API. Open the endpoint in a browser to test the function. You should see this response:</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class=""><span>{</span>"message":"hello world"}</code></pre>
      </li><li>
        <p>This is a public API endpoint that is accessible over the internet. We recommend that you delete the endpoint after testing.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">sam delete</code></pre> 
      </li></ol></div>
   
    <h2 id="aws-cdk-ts">Using the AWS CDK to deploy TypeScript code to Lambda</h2>
    <p>Follow the steps below to build and deploy a sample TypeScript application using the AWS CDK. This application implements a basic API backend. It consists of an API Gateway endpoint and a Lambda function. When you send a GET request to the API Gateway endpoint, the Lambda function is invoked. The function returns a <code class="code">hello world</code> message.</p>
    <div class="itemizedlist">
      <h6>Prerequisites</h6>
      <p>To complete the steps in this section, you must have the following:</p>
       
       
       
       
    <ul class="itemizedlist"><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">AWS CLI version 2</a></p>
      </li><li class="listitem">
          <p><a href="https://docs.aws.amazon.com/cdk/v2/guide/getting_started.html#getting_started_prerequisites">AWS CDK version 2</a></p>
      </li><li class="listitem">
          <p>Node.js 18.x</p>
      </li><li class="listitem">
        <p>Either <a href="https://www.docker.com/get-started/" rel="noopener noreferrer" target="_blank"><span>Docker</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> or <a href="https://esbuild.github.io/" rel="noopener noreferrer" target="_blank"><span>esbuild</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a></p>
      </li></ul></div>
    <div class="procedure"><h6>Deploy a sample AWS CDK application</h6><ol><li>
        <p>Create a project directory for your new application.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">mkdir hello-world
cd hello-world</code></pre>
      </li><li>
        <p>Initialize the app.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">cdk init app --language typescript</code></pre>
      </li><li>
        <p>Add the <a href="https://www.npmjs.com/package/@types/aws-lambda" rel="noopener noreferrer" target="_blank"><span>@types/aws-lambda</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> package as a development dependency. This package contains the type definitions for Lambda.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">npm install -D @types/aws-lambda</code></pre>
      </li><li>
        <p>Open the <b>lib</b> directory. You should see a file called <b>hello-world-stack.ts</b>. Create two new files in this directory: <b>hello-world.function.ts</b> and <b>hello-world.ts</b>.</p>
      </li><li>
        <p>Open <b>hello-world.function.ts</b> and add the following code to the file. This is the code for the Lambda function.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The <code class="code">import</code> statement imports the type definitions from <a href="https://www.npmjs.com/package/@types/aws-lambda" rel="noopener noreferrer" target="_blank"><span>@types/aws-lambda</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. It does not import the <code class="code">aws-lambda</code> NPM package, which is an unrelated third-party tool. For more information, see <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/aws-lambda" rel="noopener noreferrer" target="_blank"><span>aws-lambda</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the DefinitelyTyped GitHub repository.</p></div></div>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import <span>{</span> Context, APIGatewayProxyResult, APIGatewayEvent } from 'aws-lambda';

export const handler = async (event: APIGatewayEvent, context: Context): Promise&lt;APIGatewayProxyResult&gt; =&gt; <span>{</span>
    console.log(`Event: $<span>{</span>JSON.stringify(event, null, 2)}`);
    console.log(`Context: $<span>{</span>JSON.stringify(context, null, 2)}`);
    return <span>{</span>
        statusCode: 200,
        body: JSON.stringify(<span>{</span>
            message: 'hello world',
        }),
    };
};</code></pre>
      </li><li>
        <p>Open <b>hello-world.ts</b> and add the following code to the file. This contains the <a href="https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_lambda_nodejs-readme.html">NodejsFunction construct</a>, which creates the Lambda function, and the <a href="https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_apigateway.LambdaRestApi.html">LambdaRestApi construct</a>, which creates the REST API.</p>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import <span>{</span> Construct } from 'constructs';
import <span>{</span> NodejsFunction } from 'aws-cdk-lib/aws-lambda-nodejs';
import <span>{</span> LambdaRestApi } from 'aws-cdk-lib/aws-apigateway';
  
export class HelloWorld extends Construct <span>{</span>
  constructor(scope: Construct, id: string) <span>{</span>
    super(scope, id);
    const helloFunction = new NodejsFunction(this, 'function');
    new LambdaRestApi(this, 'apigw', <span>{</span>
      handler: helloFunction,
    });
  }
}</code></pre>
        <p>The <code class="code">NodejsFunction</code> construct assumes the following by default:</p>
        <div class="itemizedlist">
             
             
        <ul class="itemizedlist"><li class="listitem">
              <p>Your function handler is called <code class="code">handler</code>.</p>
            </li><li class="listitem">
              <p>The .ts file that contains the function code (<b>hello-world.function.ts</b>) is in the same directory as the .ts file that contains the construct (<b>hello-world.ts</b>). The construct uses the construct's ID ("hello-world") and the name of the Lambda handler file ("function") to find the function code. For example, if your function code is in a file called <b>hello-world.my-function.ts</b>, the <b>hello-world.ts</b> file must reference the function code like this:</p>
              <pre class="programlisting"><div class="code-btn-container"></div><code class="nohighlight">const helloFunction = new NodejsFunction(this, <code class="userinput">'my-function'</code>);</code></pre>
            </li></ul></div>
        <p>You can change this behavior and configure other esbuild parameters. For more information, see <a href="https://docs.aws.amazon.com/cdk/api/v2/docs/aws-cdk-lib.aws_lambda_nodejs-readme.html#configuring-esbuild">Configuring esbuild</a> in the AWS CDK API reference.</p>
      </li><li>
        <p>Open <b>hello-world-stack.ts</b>. This is the code that defines your <a href="https://docs.aws.amazon.com/cdk/v2/guide/stacks.html">AWS CDK stack</a>. Replace the code with the following:</p>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import <span>{</span> Stack, StackProps } from 'aws-cdk-lib';
import <span>{</span> Construct } from 'constructs';
import <span>{</span> HelloWorld } from './hello-world';
  
export class HelloWorldStack extends Stack <span>{</span>
  constructor(scope: Construct, id: string, props?: StackProps) <span>{</span>
    super(scope, id, props);
    new HelloWorld(this, 'hello-world');
  }
}</code></pre>
      </li><li>
        <p>from the <code>hello-world</code> directory containing your <code>cdk.json</code> file, deploy your 
          application.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">cdk deploy</code></pre>
      </li><li>
        <p>The AWS CDK builds and packages the Lambda function using esbuild, and then deploys the function to the Lambda runtime. The output shows the endpoint for the REST API. Open the endpoint in a browser to test the function. You should see this response:</p>
        <pre class="programlisting"><div class="code-btn-container"></div><code class=""><span>{</span>"message":"hello world"}</code></pre>
        <p>This is a public API endpoint that is accessible over the internet. We recommend that you delete the endpoint after testing.</p>
      </li></ol></div>
 
  <h2 id="aws-cli-ts">Using the AWS CLI and esbuild to deploy TypeScript code to Lambda</h2>
  <p>The following example demonstrates how to transpile and deploy TypeScript code to Lambda using esbuild and the AWS CLI. esbuild produces one JavaScript file with all dependencies. This is the only file that you need to add to the .zip archive.</p>
  <div class="itemizedlist">
    <h6>Prerequisites</h6>
    <p>To complete the steps in this section, you must have the following:</p>
     
     
     
     
    <ul class="itemizedlist"><li class="listitem">
      <p><a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">AWS CLI version 2</a></p>
    </li><li class="listitem">
      <p>Node.js 18.x</p>
    </li><li class="listitem">
      <p>An <a href="./lambda-intro-execution-role.html">execution role</a> for the Lambda function</p>
    </li><li class="listitem">
      <p>For Windows users, a zip file utility such as <a href="https://www.7-zip.org/download.html" rel="noopener noreferrer" target="_blank"><span>7zip</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
    </li></ul></div>
    <div class="procedure"><h6>Deploy a sample function</h6><ol><li>
        <p>On your local machine, create a project directory for your new function. </p>
      </li><li>
        <p>Create a new Node.js project with npm or a package manager of your choice.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">npm init</code></pre>
      </li><li>
        <p>Add the <a href="https://www.npmjs.com/package/@types/aws-lambda" rel="noopener noreferrer" target="_blank"><span>@types/aws-lambda</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> and <a href="https://esbuild.github.io/" rel="noopener noreferrer" target="_blank"><span>esbuild</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> packages as development dependencies. The <code class="code">@types/aws-lambda</code> package contains the type definitions for Lambda.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">npm install -D @types/aws-lambda esbuild</code></pre>
      </li><li>
        <p>Create a new file called <b>index.ts</b>. Add the following code to the new file. This is the code for the Lambda function. The function returns a <code class="code">hello world</code> message. The function doesn’t create any API Gateway resources.</p>
        <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>The <code class="code">import</code> statement imports the type definitions from <a href="https://www.npmjs.com/package/@types/aws-lambda" rel="noopener noreferrer" target="_blank"><span>@types/aws-lambda</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>. It does not import the <code class="code">aws-lambda</code> NPM package, which is an unrelated third-party tool. For more information, see <a href="https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/aws-lambda" rel="noopener noreferrer" target="_blank"><span>aws-lambda</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the DefinitelyTyped GitHub repository.</p></div></div>
<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import <span>{</span> Context, APIGatewayProxyResult, APIGatewayEvent } from 'aws-lambda';

export const handler = async (event: APIGatewayEvent, context: Context): Promise&lt;APIGatewayProxyResult&gt; =&gt; <span>{</span>
  console.log(`Event: $<span>{</span>JSON.stringify(event, null, 2)}`);
  console.log(`Context: $<span>{</span>JSON.stringify(context, null, 2)}`);
  return <span>{</span>
      statusCode: 200,
      body: JSON.stringify(<span>{</span>
          message: 'hello world',
      }),
   };
};</code></pre>
      </li><li>
        <p>Add a build script to the <b>package.json</b> file. This configures esbuild to automatically create the .zip deployment package. For more information, see <a href="https://esbuild.github.io/getting-started/#build-scripts" rel="noopener noreferrer" target="_blank"><span>Build scripts</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> in the esbuild documentation.</p>
<awsdocs-tabs><dl style="display: none">
  <dt>Linux and MacOS</dt><dd tab-id="linux-and-macos">
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"scripts": <span>{</span>
  "prebuild": "rm -rf dist",
  "build": "esbuild index.ts --bundle --minify --sourcemap --platform=node --target=es2020 --outfile=dist/index.js",
  "postbuild": "cd dist &amp;&amp; zip -r index.zip index.js*"
},</code></pre>
    </dd>
  <dt>Windows</dt><dd tab-id="windows">
      <p>In this example, the <code class="code">"postbuild"</code> command uses the <a href="https://www.7-zip.org/download.html" rel="noopener noreferrer" target="_blank"><span>7zip</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> utility to 
      create your .zip file. Use your own preferred Windows zip utility and modify the command as necessary.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">"scripts": <span>{</span>
  "prebuild": "del /q dist",
  "build": "esbuild index.ts --bundle --minify --sourcemap --platform=node --target=es2020 --outfile=dist/index.js",
  "postbuild": "cd dist &amp;&amp; 7z a -tzip index.zip index.js*"
},</code></pre>
    </dd>
</dl></awsdocs-tabs>
        
      </li><li>
        <p>Build the package.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">npm run build</code></pre>
      </li><li>
        <p>Create a Lambda function using the .zip deployment package. Replace the highlighted text with the Amazon Resource Name (ARN) of your <a href="./lambda-intro-execution-role.html">execution role</a>.</p>
        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">aws lambda create-function --function-name hello-world --runtime "nodejs18.x" --role <code class="replaceable">arn:aws:iam::123456789012:role/lambda-ex</code> --zip-file "fileb://dist/index.zip" --handler index.handler</code></pre>
      </li><li>
        <p><a href="./testing-functions.html">Run a test event</a> to confirm that the function returns the following response. If you want to invoke this function using API Gateway, <a href="https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-create-api.html">create and configure a REST API</a>.</p>
<pre class="programlisting"><div class="code-btn-container"></div><code class=""><span>{</span>
  "statusCode": 200,
  "body": "<span>{</span>\"message\":\"hello world\"}"
}</code></pre>
       </li></ol></div>
    <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./typescript-handler.html">Handler</div><div id="next" class="next-link" accesskey="n" href="./typescript-image.html">Deploy container images</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/typescript-package.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/typescript-package.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>