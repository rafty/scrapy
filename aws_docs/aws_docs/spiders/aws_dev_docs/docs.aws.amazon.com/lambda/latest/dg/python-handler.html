<!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Lambda function handler in Python - AWS Lambda</title><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="assets_root" content="/assets" /><meta name="target_state" content="python-handler" /><meta name="default_state" content="python-handler" /><link rel="icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/python-handler.html" /><meta name="description" content="The Lambda function handler is the method in your Python code that processes events. When your function is invoked, Lambda runs the handler method." /><meta name="deployment_region" content="IAD" /><meta name="product" content="AWS Lambda" /><meta name="guide" content="Developer Guide" /><meta name="abstract" content="" /><meta name="guide-locale" content="en_us" /><meta name="tocs" content="toc-contents.json" /><link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/python-handler.html" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/python-handler.html" hreflang="id-id" /><link rel="alternative" href="https://docs.aws.amazon.com/id_id/lambda/latest/dg/python-handler.html" hreflang="id" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/python-handler.html" hreflang="de-de" /><link rel="alternative" href="https://docs.aws.amazon.com/de_de/lambda/latest/dg/python-handler.html" hreflang="de" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/python-handler.html" hreflang="en-us" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/python-handler.html" hreflang="en" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/python-handler.html" hreflang="es-es" /><link rel="alternative" href="https://docs.aws.amazon.com/es_es/lambda/latest/dg/python-handler.html" hreflang="es" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/python-handler.html" hreflang="fr-fr" /><link rel="alternative" href="https://docs.aws.amazon.com/fr_fr/lambda/latest/dg/python-handler.html" hreflang="fr" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/python-handler.html" hreflang="it-it" /><link rel="alternative" href="https://docs.aws.amazon.com/it_it/lambda/latest/dg/python-handler.html" hreflang="it" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/python-handler.html" hreflang="ja-jp" /><link rel="alternative" href="https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/python-handler.html" hreflang="ja" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/python-handler.html" hreflang="ko-kr" /><link rel="alternative" href="https://docs.aws.amazon.com/ko_kr/lambda/latest/dg/python-handler.html" hreflang="ko" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/python-handler.html" hreflang="pt-br" /><link rel="alternative" href="https://docs.aws.amazon.com/pt_br/lambda/latest/dg/python-handler.html" hreflang="pt" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_cn/lambda/latest/dg/python-handler.html" hreflang="zh-cn" /><link rel="alternative" href="https://docs.aws.amazon.com/zh_tw/lambda/latest/dg/python-handler.html" hreflang="zh-tw" /><link rel="alternative" href="https://docs.aws.amazon.com/lambda/latest/dg/python-handler.html" hreflang="x-default" /><meta name="feedback-item" content="Lambda" /><meta name="this_doc_product" content="AWS Lambda" /><meta name="this_doc_guide" content="Developer Guide" /><script defer="" src="/assets/r/vendor4.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor3.js?version=2021.12.02"></script><script defer="" src="/assets/r/vendor1.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-common.js?version=2021.12.02"></script><script defer="" src="/assets/r/awsdocs-doc-page.js?version=2021.12.02"></script><link href="/assets/r/vendor4.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-common.css?version=2021.12.02" rel="stylesheet" /><link href="/assets/r/awsdocs-doc-page.css?version=2021.12.02" rel="stylesheet" /><script async="" id="awsc-panorama-bundle" type="text/javascript" src="https://prod.pa.cdn.uis.awsstatic.com/panorama-nav-init.js" data-config="{'appEntity':'aws-documentation','region':'us-east-1','service':'lambda'}"></script><meta id="panorama-serviceSubSection" value="Developer Guide" /><meta id="panorama-serviceConsolePage" value="Lambda function handler in Python" /></head><body class="awsdocs awsui"><div class="awsdocs-container"><awsdocs-header></awsdocs-header><awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)"><div id="guide-toc" dom-region="navigation"><awsdocs-toc></awsdocs-toc></div><div id="main-column" dom-region="content" tabindex="-1"><awsdocs-view class="awsdocs-view"><div id="awsdocs-content"><head><title>Lambda function handler in Python - AWS Lambda</title><meta name="pdf" content="/pdfs/lambda/latest/dg/lambda-dg.pdf#python-handler" /><meta name="rss" content="lambda-updates.rss" /><meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" /><meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/python-handler.html" /><meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/python-handler.html" /><meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/python-handler.html" /><meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing,python function,python Lambda,python sample code,python Lambda function,python create function,Lambda python,Lambda python return,Lambda python main" /><script type="application/ld+json">
{
    "@context" : "https://schema.org",
    "@type" : "BreadcrumbList",
    "itemListElement" : [
      {
        "@type" : "ListItem",
        "position" : 1,
        "name" : "AWS",
        "item" : "https://aws.amazon.com"
      },
      {
        "@type" : "ListItem",
        "position" : 2,
        "name" : "AWS Lambda",
        "item" : "https://docs.aws.amazon.com/lambda/index.html"
      },
      {
        "@type" : "ListItem",
        "position" : 3,
        "name" : "Developer Guide",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg"
      },
      {
        "@type" : "ListItem",
        "position" : 4,
        "name" : "Building Lambda functions with Python",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/lambda-python.html"
      },
      {
        "@type" : "ListItem",
        "position" : 5,
        "name" : "Lambda function handler in Python",
        "item" : "https://docs.aws.amazon.com/lambda/latest/dg/lambda-python.html"
      }
    ]
}
</script></head><body><div id="main"><div style="display: none"><a href="/pdfs/lambda/latest/dg/lambda-dg.pdf#python-handler" target="_blank" rel="noopener noreferrer" title="Open PDF"></a></div><div id="breadcrumbs" class="breadcrumb"><a href="https://aws.amazon.com">AWS</a><a href="/index.html">Documentation</a><a href="/lambda/index.html">AWS Lambda</a><a href="welcome.html">Developer Guide</a></div><div id="page-toc-src"><a href="#naming">Naming</a><a href="#python-handler-how">How it works</a><a href="#python-handler-return">Returning a value</a><a href="#python-example">Examples</a></div><div id="main-content" class="awsui-util-container"><div id="main-col-body"><awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner><h1 class="topictitle" id="python-handler">Lambda function handler in Python</h1><div class="awsdocs-page-header-container"><awsdocs-page-header></awsdocs-page-header><awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector></div><p>The Lambda function <em>handler</em> is the method in your function code that processes events. When your function is
  invoked, Lambda runs the handler method. Your function runs until the handler returns a response, exits, or times out.</p><p>You can use the following general syntax when creating a function handler in Python:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">def <code class="replaceable">handler_name</code>(event, context): 
    ...
    return <code class="replaceable">some_value</code></code></pre>
        <h2 id="naming">Naming</h2>
        <p>The Lambda function handler name specified at the time that you create a Lambda function is derived
      from:</p>
        <div class="itemizedlist">
           
           
        <ul class="itemizedlist"><li class="listitem">
            <p>The name of the file in which the Lambda handler function is located.</p>
          </li><li class="listitem">
            <p>The name of the Python handler function.</p>
          </li></ul></div>
        <p>A function handler can be any name; however, the default name in the Lambda console is
        <code class="code">lambda_function.lambda_handler</code>. This function handler name reflects the function name
        (<code class="code">lambda_handler</code>) and the file where the handler code is stored
        (<code>lambda_function.py</code>).</p>
        <p>If you create a function in the console using a different file name or function handler name, you must edit the 
          default handler name.</p>
          <div class="procedure"><h6>To change the function handler name (console)</h6><ol><li>
              <p>Open the <a href="https://console.aws.amazon.com/lambda/home#/functions" rel="noopener noreferrer" target="_blank"><span>Functions</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> page of the Lambda console and choose your function.</p>
            </li><li>
              <p>Choose the <b>Code</b> tab.</p>
            </li><li>
              <p>Scroll down to the <b>Runtime settings</b> pane and choose <b>Edit</b>.</p>
            </li><li>
              <p>In <b>Handler</b>, enter the new name for your function handler.</p>
            </li><li>
              <p>Choose <b>Save</b>.</p>
            </li></ol></div>
   
    <h2 id="python-handler-how">How it works</h2>
    <p>When Lambda invokes your function handler, the <a href="./lambda-runtimes.html">Lambda runtime</a> passes two
      arguments to the function handler:</p>
    <div class="itemizedlist">
       
       
    <ul class="itemizedlist"><li class="listitem">
        <p>The first argument is the <a href="https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-concepts.html#gettingstarted-concepts-event">event object</a>. An event is a JSON-formatted document that contains data for a Lambda function to process. The <a href="./lambda-runtimes.html">Lambda runtime</a> converts the event to an object and passes it to your function code. It is usually of the Python <code class="code">dict</code> type. It can also be <code class="code">list</code>, <code class="code">str</code>, <code class="code">int</code>, <code class="code">float</code>, or the <code class="code">NoneType</code> type.</p>
        <p>The event object contains information from the invoking service. When you invoke a function, you determine the structure and contents of the event. When an AWS service invokes your function, the service defines the event structure. For more information about events from AWS services, see <a href="./lambda-services.html">Using AWS Lambda with other services</a>.</p>
      </li><li class="listitem">
        <p>The second argument is the <a href="./python-context.html">context object</a>. A context object is passed to 
          your function by Lambda at runtime. This object provides methods and properties that provide information about the 
          invocation, function, and runtime environment.</p> 
      </li></ul></div>
   
  <h2 id="python-handler-return">Returning a value</h2>
    <p>Optionally, a handler can return a value. What happens to the returned value depends on the 
      <a href="./lambda-invocation.html">invocation type</a> and the <a href="./lambda-services.html">service</a> that 
      invoked the function. For example:</p>
      <div class="itemizedlist">
         
         
         
         
    <ul class="itemizedlist"><li class="listitem">
          <p>If you use the <code class="code">RequestResponse</code> invocation type, such as 
            <a href="./invocation-sync.html">Synchronous invocation</a>, AWS Lambda returns the result of the Python function call 
            to the client invoking the Lambda function (in the HTTP response to the invocation request, serialized into JSON). 
            For example, AWS Lambda console uses the <code class="code">RequestResponse</code> invocation type, so when you invoke the function on the 
            console, the console will display the returned value.</p>
        </li><li class="listitem">
            <p>If the handler returns objects that can't be serialized by <code class="code">json.dumps</code>, the runtime returns an error.</p>
        </li><li class="listitem">
            <p>If the handler returns <code class="code">None</code>, as Python functions without a <code class="code">return</code> statement implicitly do, the runtime returns <code class="code">null</code>.</p>
        </li><li class="listitem">
            <p>If you use the <code class="code">Event</code> invocation type (an <a href="./invocation-async.html">asynchronous invocation</a>), the value is discarded.</p>
        </li></ul></div>
  <div class="awsdocs-note"><div class="awsdocs-note-title"><awsui-icon name="status-info" variant="link"></awsui-icon><h6>Note</h6></div><div class="awsdocs-note-text"><p>In Python 3.9 and later releases, Lambda includes the requestId of the invocation in the error response.</p></div></div>
   
    <h2 id="python-example">Examples</h2>
    <p>The following section shows examples of Python functions you can use with Lambda. If you use the Lambda console to author your function, you do not need to attach a <a href="./python-package.html">.zip archive file</a> to run the functions in this section. These functions use standard Python libraries which are included with the Lambda runtime you selected. For more information, see <a href="./gettingstarted-package.html">Lambda deployment packages</a>.</p>
    
     
      <h3 id="python-example-message">Returning a message</h3>
    <p>The following example shows a function called <code class="code">lambda_handler</code>. The function accepts user input of a first and last name, and returns a message that contains data from the event it received as input.</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">def lambda_handler(event, context):
    message = 'Hello <span>{</span>} <span>{</span>}!'.format(event['first_name'], event['last_name'])  
    return <span>{</span> 
        'message' : message
    }</code></pre>
      <p>You can use the following event data to invoke the function:</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "first_name": "John",
    "last_name": "Smith"
}</code></pre>
      <p>The response shows the event data passed as input:</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "message": "Hello John Smith!"
}</code></pre>
   
    
     
      <h3 id="python-example-parse">Parsing a response</h3>
      <p>The following example shows a function called <code class="code">lambda_handler</code>. The function uses event data passed by Lambda at runtime. It parses the <a href="./configuration-envvars.html">environment variable</a> in <code class="code">AWS_REGION</code> returned in the JSON response.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import os
import json
        
def lambda_handler(event, context):
    json_region = os.environ['AWS_REGION']
    return <span>{</span>
        "statusCode": 200,
        "headers": <span>{</span>
            "Content-Type": "application/json"
        },
        "body": json.dumps(<span>{</span>
            "Region ": json_region
        })
    }</code></pre>
    <p>You can use any event data to invoke the function:</p>
    <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "key1": "value1",
  "key2": "value2",
  "key3": "value3"
}</code></pre>
    <p>Lambda runtimes set several environment variables during initialization. For more information on the environment variables returned in 
      the response at runtime, see <a href="./configuration-envvars.html">Using Lambda environment variables</a>.</p>
    <p>The function in this example depends on a successful response (in <code class="code">200</code>) from the Invoke API. For more information on the 
      Invoke API status, see the <a href="./API_Invoke.html">Invoke</a> Response Syntax.</p>
     
    
     
      <h3 id="python-example-userinputcalc">Returning a calculation</h3>
      <p>The following example shows a function called <code class="code">lambda_handler</code>. The function accepts user input
        and returns a calculation to the user. For more information about this example, see the <a href="https://github.com/awsdocs/aws-doc-sdk-examples/blob/master/python/example_code/lambda/lambda_handler_basic.py" rel="noopener noreferrer" target="_blank"><span>aws-doc-sdk-examples GitHub repository</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import logging

logger = logging.getLogger()
logger.setLevel(logging.INFO)

def lambda_handler(event, context):
    ...
    result = None
    action = event.get('action')
    if action == 'increment':
        result = event.get('number', 0) + 1
        logger.info('Calculated result of %s', result)
    else:
        logger.error("%s is not a valid action.", action)

    response = <span>{</span>'result': result}
    return response</code></pre>
      <p>You can use the following event data to invoke the function:</p>
      <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "action": "increment",
    "number": 3
}</code></pre>
     
  <awsdocs-copyright class="copyright-print"></awsdocs-copyright><awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback></div><noscript><div><div><div><div id="js_error_message"><p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p><p>To use the Amazon Web Services Documentation, Javascript must be enabled. Please refer to your browser's Help pages for instructions.</p></div></div></div></div></noscript><div id="main-col-footer" class="awsui-util-font-size-0"><div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div><div class="prev-next"><div id="previous" class="prev-link" accesskey="p" href="./lambda-python.html">Building with Python</div><div id="next" class="next-link" accesskey="n" href="./python-package.html">Deploy .zip file archives</div></div></div><awsdocs-page-utilities></awsdocs-page-utilities></div><div id="quick-feedback-yes" style="display: none;"><div class="title">Did this page help you? - Yes</div><div class="content"><p>Thanks for letting us know we're doing a good job!</p><p>If you've got a moment, please tell us what we did right so we can do more of it.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/python-handler.html"></awsui-button></p></div></div><div id="quick-feedback-no" style="display: none;"><div class="title">Did this page help you? - No</div><div class="content"><p>Thanks for letting us know this page needs work. We're sorry we let you down.</p><p>If you've got a moment, please tell us how we can make the documentation better.</p><p><awsui-button id="fblink" rel="noopener noreferrer" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/python-handler.html"></awsui-button></p></div></div></div></body></div></awsdocs-view><div class="page-loading-indicator" id="page-loading-indicator"><awsui-spinner size="large"></awsui-spinner></div></div><div id="tools-panel" dom-region="tools"><awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel></div></awsui-app-layout><awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner></div></body></html>